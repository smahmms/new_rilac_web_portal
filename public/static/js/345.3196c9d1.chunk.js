/*! For license information please see 345.3196c9d1.chunk.js.LICENSE.txt */
(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[345],{2448:function(e,t,n){"use strict";n.r(t);var a=n(21),r=n(121),o=n(16),c=n(0),i=n(660),s=n(499),u=n.n(s),l=n(501),p=n.n(l),d=n(1553),f=n(1552),b=(n(487),n(470)),m=n(483),g=n(502),j=n(478),O=n(490),h=n.n(O),v=n(481),y=n.n(v),x=n(479),w=n(6);y()(h.a);t.default=function(){var e=Object(i.g)(),t=Object(i.i)().receipt_id,n=Object(c.useState)(0),s=Object(o.a)(n,2),l=s[0],O=s[1],h=Object(c.useState)(!0),v=Object(o.a)(h,2),y=v[0],C=v[1],N=Object(c.useState)([]),k=Object(o.a)(N,2),_=k[0],P=k[1],S=Object(c.useState)({}),R=Object(o.a)(S,2),E=R[0],T=R[1],L=Object(c.useState)([]),M=Object(o.a)(L,2),D=M[0],B=M[1],Y=Object(c.useState)({subTotal:0,vat:0,total:0}),F=Object(o.a)(Y,2),A=F[0],I=F[1];Object(c.useEffect)((function(){j.a.invoiceDetails({receipt_id:t}).then((function(e){console.log(e.data.payload),C(!1);var t=[],n=[].concat.apply([],e.data.payload.invoices.map((function(e,n){return t[n]=e.invoice_id,e.items})));console.log("productsArray ",n),T(e.data.payload),B(t),P(Object(r.a)(n));var a=n.map((function(e){return e.total_exclude_vat})).reduce((function(e,t){return e+t})),o=n.map((function(e){return e.vat})).reduce((function(e,t){return e+t}));I({subTotal:Number(a).toFixed(2),vat:Number(o).toFixed(2),total:Number(a+o).toFixed(2)})})).catch((function(e){console.log(e)}))}),[]);var U=[{name:"Product name",selector:function(e,t){return e.productinfo?e.productinfo.productname:""},minWidth:"200px",sortable:!0},{name:"Product code",selector:function(e,t){return e.product_code},minWidth:"100px",sortable:!0},{name:"Quantity",selector:"quantity",minWidth:"100px",sortable:!0},{name:"Vat",selector:function(e){return"".concat(window.CURRENCY_SYMBOL," ").concat((+e.vat).toFixed(2))},minWidth:"100px",sortable:!0},{name:"Price",selector:function(e){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(x.d)((+e.total_exclude_vat).toFixed(2)))},minWidth:"100px",sortable:!0},{name:"Price + Vat",selector:function(e){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(x.d)((+(e.total_exclude_vat+e.vat)).toFixed(2)))},minWidth:"100px",sortable:!0}];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(b.a.Ripple,{className:"ml-2",color:"primary",onClick:function(){return e.goBack()},children:[Object(w.jsx)(d.a,{size:10}),Object(w.jsx)("span",{className:"align-middle ml-50",children:"Back to Invoice List"})]}),Object(w.jsxs)(m.a,{className:"p-1 my-2",children:[Object(w.jsxs)("p",{children:["Receipt id: ",E.receipt_id]}),Object(w.jsxs)("p",{children:["Invoice id: ",D.toString()]}),Object(w.jsxs)("p",{children:["Invoice to : ",E.customer_business_name]}),Object(w.jsxs)("p",{children:["Store name: ",E.store_name]}),Object(w.jsxs)("p",{children:["Date : ",E.createdat?Object(x.b)(E.createdat):null," "]})]}),Object(w.jsxs)(m.a,{children:[Object(w.jsx)(p.a,{noHeader:!0,pagination:!0,columns:U,paginationPerPage:7,className:"react-dataTable",sortIcon:Object(w.jsx)(f.a,{size:10}),paginationDefaultPage:l+1,paginationComponent:function(){var e;return Object(w.jsx)(u.a,(e={previousLabel:"",nextLabel:"",forcePage:l,onPageChange:function(e){return function(e){O(e.selected)}(e)},pageCount:_.length/7||1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(a.a)(e,"breakClassName","page-item"),Object(a.a)(e,"breakLinkClassName","page-link"),Object(a.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:_,progressPending:y,progressComponent:Object(w.jsx)(g.a,{color:"primary"}),responsive:!0}),Object(w.jsx)("div",{className:"w-100 p-2 d-flex justify-content-end",children:Object(w.jsxs)("div",{style:{width:"150px",textAlign:"right"},children:[Object(w.jsxs)("p",{children:["Subtotal : ","".concat(window.CURRENCY_SYMBOL," ").concat(Object(x.d)((+A.subTotal).toFixed(2)))]}),Object(w.jsxs)("p",{children:["Vat : ","".concat(window.CURRENCY_SYMBOL," ").concat(Object(x.d)((+A.vat).toFixed()))]}),Object(w.jsx)("hr",{}),Object(w.jsxs)("p",{children:["Total : ","".concat(window.CURRENCY_SYMBOL," ").concat(Object(x.d)((+A.total).toFixed(2)))]})]})})]})]})}},479:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u}));var a=n(476),r=n(477),o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},c=function(e){return new Date(e).toLocaleDateString(void 0,o)},i=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t){e.next=4;break}return window.location.href="/Adminlogin",e.next=4,localStorage.clear();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e,t,n){var a=document.createElement("a"),r=function(e){var n;return n="",n+=t.join(","),n+="\n",e.forEach((function(e){var a=0;t.forEach((function(t){a>0&&(n+=","),n+=e[t],a++})),n+="\n"})),n}(e);if(null!==r){var o=JSON.parse(localStorage.getItem("userData")),c="".concat(n,"_").concat((new Date).toISOString(),"_").concat(o.fullname.replaceAll(/\s/g,""),".csv");r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),a.setAttribute("href",encodeURI(r)),a.setAttribute("download",c),a.click()}}},481:function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?s(e):t}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function p(e,t,n){return p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=l(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}},p(e,t,n||e)}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var d=[{key:"title",getter:function(e){return e.getTitle()}},{key:"html",getter:function(e){return e.getHtmlContainer()}},{key:"confirmButtonText",getter:function(e){return e.getConfirmButton()}},{key:"cancelButtonText",getter:function(e){return e.getCancelButton()}},{key:"footer",getter:function(e){return e.getFooter()}}],f=function(){},b=function(e){return new Error("sweetalert2-react-content: ".concat(e))};function m(a){return function(i){function s(){return n(this,s),u(this,c(s).apply(this,arguments))}return o(s,i),r(s,[{key:"_main",value:function(n){return(n=Object.assign({},n)).onOpen=n.onOpen||f,n.onDestroy=n.onDestroy||f,d.forEach((function(r){var o=r.key,c=r.getter;if(e.isValidElement(n[o])){var i,s=n[o];n[o]=" ";var u=n.onOpen;n.onOpen=function(e){i=c(a),t.render(s,i),u(e)};var l=n.onDestroy;n.onDestroy=function(e){l(e),i&&t.unmountComponentAtNode(i)}}})),p(c(s.prototype),"_main",this).call(this,n)}},{key:"update",value:function(){throw b("Swal.update() is not yet supported. See https://github.com/sweetalert2/sweetalert2-react-content/issues/73")}}],[{key:"argsToParams",value:function(t){if(e.isValidElement(t[0])||e.isValidElement(t[1])){var n={};return["title","html","icon"].forEach((function(e,a){void 0!==t[a]&&(n[e]=t[a])})),n}return a.argsToParams(t)}}]),s}(a)}return m}(n(0),n(33))},483:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(0),c=n.n(o),i=n(5),s=n.n(i),u=n(58),l=n.n(u),p=n(83),d={tag:p.tagPropType,inverse:s.a.bool,color:s.a.string,body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f=function(e){var t=e.className,n=e.cssModule,o=e.color,i=e.body,s=e.inverse,u=e.outline,d=e.tag,f=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(p.mapToCssModules)(l()(t,"card",!!s&&"text-white",!!i&&"card-body",!!o&&(u?"border":"bg")+"-"+o),n);return c.a.createElement(d,Object(a.a)({},b,{className:m,ref:f}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},502:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(0),c=n.n(o),i=n(5),s=n.n(i),u=n(58),l=n.n(u),p=n(83),d={tag:p.tagPropType,type:s.a.string,size:s.a.string,color:s.a.string,className:s.a.string,cssModule:s.a.object,children:s.a.string},f=function(e){var t=e.className,n=e.cssModule,o=e.type,i=e.size,s=e.color,u=e.children,d=e.tag,f=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(p.mapToCssModules)(l()(t,!!i&&"spinner-"+o+"-"+i,"spinner-"+o,!!s&&"text-"+s),n);return c.a.createElement(d,Object(a.a)({role:"status"},f,{className:b}),u&&c.a.createElement("span",{className:Object(p.mapToCssModules)("sr-only",n)},u))};f.propTypes=d,f.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=f}}]);
//# sourceMappingURL=345.3196c9d1.chunk.js.map