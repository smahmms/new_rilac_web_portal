(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[356],{2466:function(e,t,a){"use strict";a.r(t);var n=a(476),c=a(477),r=a(16),s=a(121),o=a(0),i=a(483),l=a(486),u=a(548),b=a(1525),d=a(1526),j=a(550),p=a(551),g=a(482),O=a(480),m=a(470),h=a(533),f=a(536),x=a(531),v=a(496),C=a(484),k=a(485),N=a(1488),y=a(489),S=a(1513),P=a(502),L=a(478),w=a(472),D=a(479),B=a(490),T=a.n(B),R=a(481),_=a.n(R),A=a(615),H=(a(487),a(527),a(58)),I=a.n(H),W=a(6);_()(T.a);t.default=function(){var e,t=(JSON.parse(localStorage.getItem("AssignedMenus"))||[]).map((function(e){return e.submenu.map((function(e){return e.id}))})),a=((e=[]).concat.apply(e,Object(s.a)(t)),Object(o.useState)(!1)),B=Object(r.a)(a,2),T=B[0],R=B[1],_=Object(o.useState)(!1),H=Object(r.a)(_,2),q=H[0],Q=H[1],E=function(){return Q((function(e){return!e}))},F=Object(o.useState)(!0),J=Object(r.a)(F,2),z=J[0],M=J[1],U=Object(o.useState)([]),G=Object(r.a)(U,2),K=(G[0],G[1],Object(o.useState)(!1)),V=Object(r.a)(K,2),X=V[0],Y=V[1],Z=Object(o.useState)(1),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)([]),ne=Object(r.a)(ae,2),ce=ne[0],re=ne[1],se=Object(o.useState)([]),oe=Object(r.a)(se,2),ie=oe[0],le=oe[1];Object(o.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.campaignBudgetList().then((function(e){var t=e.data.payload;console.log(t),re(t),M(!1)})).catch((function(e){console.log(e.response),M(!1),Object(w.a)(e)}));case 2:return e.next=4,L.a.campaignBudgetPendingList().then((function(e){var t=e.data.payload;console.log(t),le(t),M(!1)})).catch((function(e){console.log(e.response),M(!1),Object(w.a)(e)}));case 4:case"end":return e.stop()}}),e)}))),[T]);var ue=Object(o.useState)(""),be=Object(r.a)(ue,2),de=be[0],je=(be[1],Object(o.useState)([])),pe=Object(r.a)(je,2),ge=pe[0],Oe=(pe[1],[{name:"Merchant Phone",minWidth:"150px",sortable:!0,selector:"created_by_name"},{name:"Proposed Budget",minWidth:"120px",sortable:!0,selector:"proposed_budget"},{name:"Current Balance",minWidth:"100px",sortable:!0,selector:"current_balance"},{name:"Previous Balance",minWidth:"100px",sortable:!0,selector:"previous_balance"},{name:"Action",minWidth:"100px",sortable:!0,selector:"action"},{name:"Created At",minWidth:"220px",sortable:!0,selector:function(e){return Object(D.b)(e.created_at)}}]),me=Object(o.useState)("1"),he=Object(r.a)(me,2),fe=he[0],xe=he[1],ve=function(e){fe!==e&&xe(e)};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(i.a,{children:Object(W.jsx)(l.a,{children:Object(W.jsxs)(u.a,{tabs:!0,children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(d.a,{className:I()({active:"1"===fe}),onClick:function(){ve("1")},children:" Quota Request List"})}),Object(W.jsx)(b.a,{children:Object(W.jsx)(d.a,{className:I()({active:"2"===fe}),onClick:function(){ve("2")},children:"Pending Quota Request List"})})]})})}),Object(W.jsx)(i.a,{children:Object(W.jsxs)(j.a,{activeTab:fe,children:[Object(W.jsx)(p.a,{tabId:"1",children:Object(W.jsxs)(i.a,{children:[Object(W.jsxs)(g.a,{className:"border-bottom",children:[Object(W.jsx)(O.a,{}),Object(W.jsx)(O.a,{children:Object(W.jsx)(m.a.Ripple,{className:"ml-2",color:"primary",onClick:E,children:Object(W.jsx)("span",{children:"Request For Quota"})})})]}),Object(W.jsx)(l.a,{children:Object(W.jsx)(A.a,{column:Oe,TableData:de.length?ge:ce,TableDataLoading:z})})]})}),Object(W.jsx)(p.a,{tabId:"2",children:Object(W.jsx)(i.a,{children:Object(W.jsx)(l.a,{children:Object(W.jsx)(A.a,{column:Oe,TableData:de.length?ge:ie,TableDataLoading:z})})})})]})}),Object(W.jsxs)(h.a,{isOpen:q,toggle:E,className:"modal-dialog-centered",children:[Object(W.jsx)(f.a,{toggle:E,children:"Request For Quota"}),Object(W.jsx)(x.a,{children:Object(W.jsx)(v.a,{style:{width:"100%"},onSubmit:function(e){e.preventDefault();var t={proposed_budget:ee};console.log(t),Y(!0),L.a.createCampaignBudget(t).then((function(e){R(!T),Y(!1),Object(w.c)(e),te(0),E()})).catch((function(e){Y(!1),Object(w.a)(e),console.log(e)}))},autoComplete:"off",children:Object(W.jsxs)(C.a,{children:[Object(W.jsx)(k.a,{md:"12",children:Object(W.jsxs)(N.a,{children:[Object(W.jsx)(y.a,{children:"Quota Amount"}),Object(W.jsx)(S.a,{type:"number",min:0,step:"0.01",name:ee,id:ee,value:ee,onChange:function(e){te(e.target.value)},required:!0,placeholder:"1"})]})}),Object(W.jsx)(k.a,{md:"12",className:"text-center",style:{paddingTop:"23px"},children:X?Object(W.jsxs)(m.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,children:[Object(W.jsx)(P.a,{color:"white",size:"sm"}),Object(W.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(W.jsx)(m.a.Ripple,{className:"ml-2",color:"primary",type:"submit",children:Object(W.jsx)("span",{children:"Submit"})})})]})})})]})]})}},472:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s}));a(0);var n=a(127),c=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?n.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):n.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||n.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},s=function(e){var t=e.data.message||"success";n.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},479:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return l}));var n=a(476),c=a(477),r={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},s=function(e){return new Date(e).toLocaleDateString(void 0,r)},o=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},i=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t){e.next=4;break}return window.location.href="/Adminlogin",e.next=4,localStorage.clear();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e,t,a){var n=document.createElement("a"),c=function(e){var a;return a="",a+=t.join(","),a+="\n",e.forEach((function(e){var n=0;t.forEach((function(t){n>0&&(a+=","),a+=e[t],n++})),a+="\n"})),a}(e);if(null!==c){var r=JSON.parse(localStorage.getItem("userData")),s="".concat(a,"_").concat((new Date).toISOString(),"_").concat(r.fullname.replaceAll(/\s/g,""),".csv");c.match(/^data:text\/csv/i)||(c="data:text/csv;charset=utf-8,".concat(c)),n.setAttribute("href",encodeURI(c)),n.setAttribute("download",s),n.click()}}},615:function(e,t,a){"use strict";var n=a(21),c=a(16),r=a(0),s=a(1552),o=a(502),i=a(499),l=a.n(i),u=a(501),b=a.n(u),d=a(6);t.a=function(e){var t=e.column,a=e.TableData,i=e.TableDataLoading,u=Object(r.useState)(0),j=Object(c.a)(u,2),p=j[0],g=j[1];return Object(d.jsx)(r.Fragment,{children:Object(d.jsx)(b.a,{noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(d.jsx)(s.a,{size:10}),paginationDefaultPage:p+1,paginationComponent:function(){var e;return Object(d.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:p,onPageChange:function(e){return function(e){g(e.selected)}(e)},pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(n.a)(e,"breakClassName","page-item"),Object(n.a)(e,"breakLinkClassName","page-link"),Object(n.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:a,progressPending:i,progressComponent:Object(d.jsx)(o.a,{color:"primary"}),responsive:!0})})}}}]);
//# sourceMappingURL=356.b0bafce1.chunk.js.map