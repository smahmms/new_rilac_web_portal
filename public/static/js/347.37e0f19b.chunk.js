(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[347],{2407:function(e,a,s){"use strict";s.r(a);var t=s(21),c=s(1),r=s(16),l=s(0),n=s(660),i=s(474),o=(s(818),s(495)),j=(s(499),s(501),s(1553)),d=s(487),b=s(470),O=s(483),u=s(482),m=s(480),p=s(486),h=s(496),x=s(485),f=s(1488),g=s(489),y=s(1513),N=s(502),v=(s(472),s(478)),T=s(490),S=s.n(T),C=s(481),w=s.n(C),U=s(6),k=w()(S.a);a.default=function(){var e=Object(n.g)(),a=Object(l.useState)(!1),s=Object(r.a)(a,2),T=s[0],S=s[1],C=Object(l.useState)(!0),w=Object(r.a)(C,2),P=(w[0],w[1],Object(l.useState)([{value:"",label:""}])),z=Object(r.a)(P,2),B=z[0],E=z[1],L=Object(l.useState)([{value:"",label:""}]),R=Object(r.a)(L,2),q=R[0],H=R[1],D=Object(l.useState)([]),F=Object(r.a)(D,2),J=(F[0],F[1],Object(l.useState)([])),A=Object(r.a)(J,2),W=A[0],M=A[1],G=Object(l.useState)({}),I=Object(r.a)(G,2),K=I[0],Q=I[1],V=Object(l.useState)({userType:!1,userTitle:!1,storeName:!1,email:!1}),X=Object(r.a)(V,2),Y=X[0],Z=X[1],$=Object(l.useState)(0),_=Object(r.a)($,2),ee=(_[0],_[1],Object(l.useState)(!0)),ae=Object(r.a)(ee,2),se=ae[0];ae[1];Object(l.useEffect)((function(){v.a.userRoleList().then((function(e){var a=e.data.payload.map((function(e){return{value:e.id,label:e.statusdesc}}));E(a)})).catch((function(e){console.log(e.response)})),v.a.userTitleList().then((function(e){var a=e.data.payload.map((function(e){return{value:e.id,label:e.statusdesc}}));H(a)})).catch((function(e){console.log(e.response)})),v.a.storeList().then((function(e){var a=e.data.payload.map((function(e){return{value:e.storeid,label:e.storename}}));M(a)})).catch((function(e){console.log(e)}))}),[se]);var te=function(e){var a=/\S+@\S+\.\S+/.test(e.target.value);"Email"===e.target.name&&a&&Z(Object(c.a)(Object(c.a)({},Y),{},{email:!1})),Q(Object(c.a)(Object(c.a)({},K),{},Object(t.a)({},e.target.name,e.target.value)))};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(b.a.Ripple,{className:"ml-2 mb-2",color:"primary",tag:i.b,to:"/user",children:[Object(U.jsx)(j.a,{size:10}),Object(U.jsx)("span",{className:"align-middle ml-50",children:"Back"})]}),Object(U.jsxs)(O.a,{children:[Object(U.jsx)(u.a,{className:"border-bottom",children:Object(U.jsx)(m.a,{tag:"h4",children:"Add New Staff"})}),Object(U.jsx)(p.a,{style:{paddingTop:"15px"},children:Object(U.jsxs)(h.a,{className:"row",style:{width:"100%"},onSubmit:function(a){a.preventDefault();var s=K.username,t=K.password,r=K.Email,l=K.firstName,n=K.lastName,i=K.StoreName,o=K.UserType,j=K.UserTitle,d=/\S+@\S+\.\S+/.test(r),b=Object(c.a)({},Y);if(b.email=!d,K.UserType?b.userType=!1:b.userType=!0,K.UserTitle?b.userTitle=!1:b.userTitle=!0,K.StoreName?b.storeName=!1:b.storeName=!0,Z(b),d&&!b.userType&&!b.userTitle&&!b.storeName){S(!0);var O="".concat(l," ").concat(n);v.a.addAdminUser({fullname:O,username:s,password:t,roleid:o,emailid:r,storeid:i,title:j}).then((function(a){console.log(a),k.fire({icon:"success",title:"Done!",text:"The Staff has been added successfully",customClass:{confirmButton:"btn btn-success"}}),setTimeout((function(){e.replace("/user")}),1e3)})).catch((function(e){console.log(e)}))}},autoComplete:"off",children:[Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"username",children:["Username ",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(U.jsx)(y.a,{type:"text",name:"username",id:"username",onChange:te,required:!0,placeholder:"username"})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"password",children:["Password",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(U.jsx)(y.a,{type:"password",name:"password",id:"password",onChange:te,required:!0,placeholder:"password"})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"firstName",children:["First Name ",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(U.jsx)(y.a,{type:"text",name:"firstName",id:"firstName",onChange:te,required:!0,placeholder:"firstName"})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"lastName",children:["Last Name ",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(U.jsx)(y.a,{type:"text",name:"lastName",id:"lastName",onChange:te,required:!0,placeholder:"lastName"})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsx)(g.a,{for:"Email",children:"Email"}),"\xa0",Y.email&&Object(U.jsx)("span",{style:{color:"red",fontSize:"11px"},children:" is not valid"}),Object(U.jsx)(y.a,{type:"email",name:"Email",id:"Email",onChange:te,placeholder:"Example@gmail.com"})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"StoreName",children:["Store Name",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",Y.storeName&&Object(U.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Required"}),Object(U.jsx)(o.a,{theme:d.i,className:"react-select",classNamePrefix:"select",name:"StoreName",onChange:function(e,a){"clear"===a.action?Q(Object(c.a)(Object(c.a)({},K),{},{StoreName:null})):(Z(Object(c.a)(Object(c.a)({},Y),{},{storeName:!1})),Q(Object(c.a)(Object(c.a)({},K),{},{StoreName:e.value})))},options:W,isClearable:!0,isLoading:!1})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"UserType",children:["User Type",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",Y.userType&&Object(U.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Required"}),Object(U.jsx)(o.a,{theme:d.i,className:"react-select",classNamePrefix:"select",name:"UserType",onChange:function(e,a){"clear"===a.action?Q(Object(c.a)(Object(c.a)({},K),{},{UserType:null})):(Z(Object(c.a)(Object(c.a)({},Y),{},{userType:!1})),Q(Object(c.a)(Object(c.a)({},K),{},{UserType:e.value})))},options:B,isClearable:!0,isLoading:!1})]})}),Object(U.jsx)(x.a,{sm:"3",children:Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(g.a,{for:"UserTitle",children:["User Title",Object(U.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",Y.userTitle&&Object(U.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Required"}),Object(U.jsx)(o.a,{theme:d.i,className:"react-select",classNamePrefix:"select",name:"UserTitle",onChange:function(e,a){"clear"===a.action?Q(Object(c.a)(Object(c.a)({},K),{},{UserTitle:null})):(Z(Object(c.a)(Object(c.a)({},Y),{},{userTitle:!1})),Q(Object(c.a)(Object(c.a)({},K),{},{UserTitle:e.value})))},options:q,isClearable:!0,isLoading:!1})]})}),Object(U.jsx)(x.a,{sm:"3",children:T?Object(U.jsxs)(b.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(U.jsx)(N.a,{color:"white",size:"sm"}),Object(U.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(U.jsx)(b.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(U.jsx)("span",{className:"align-middle ml-50",children:"Submit"})})})]})})]})]})}},472:function(e,a,s){"use strict";s.d(a,"a",(function(){return c})),s.d(a,"b",(function(){return r})),s.d(a,"c",(function(){return l}));s(0);var t=s(127),c=function(e){try{var a=e.response;404===a.status||401===a.status||400===a.status||500===a.status||409===a.status?t.f.error(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):t.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=function(e){try{var a=e.response;404!==a.status&&401!==a.status&&400!==a.status||t.f.error(a.data.errors?a.data.errors[Object.keys(a.data.errors)[0]]:a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},l=function(e){var a=e.data.message||"success";t.f.success(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},518:function(e,a,s){},818:function(e,a,s){"use strict";var t=s(16),c=s(0),r=s(563),l=s.n(r),n=s(1487),i=s(1521),o=s(1545),j=s(1610),d=s(1546),b=s(1576),O=s(533),u=s(536),m=s(531),p=s(1488),h=s(489),x=s(1511),f=s(1512),g=s(1236),y=s(1513),N=s(470),v=(s(518),s(6));a.a=function(e){var a=e.open,s=e.handleModal,r=Object(c.useState)(new Date),T=Object(t.a)(r,2),S=T[0],C=T[1],w=Object(v.jsx)(n.a,{className:"cursor-pointer",size:15,onClick:s});return Object(v.jsxs)(O.a,{isOpen:a,toggle:s,className:"sidebar-sm",modalClassName:"modal-slide-in",contentClassName:"pt-0",children:[Object(v.jsx)(u.a,{className:"mb-3",toggle:s,close:w,tag:"div",children:Object(v.jsx)("h5",{className:"modal-title",children:"New Record"})}),Object(v.jsxs)(m.a,{className:"flex-grow-1",children:[Object(v.jsxs)(p.a,{children:[Object(v.jsx)(h.a,{for:"full-name",children:"Full Name"}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(f.a,{addonType:"prepend",children:Object(v.jsx)(g.a,{children:Object(v.jsx)(i.a,{size:15})})}),Object(v.jsx)(y.a,{id:"full-name",placeholder:"Bruce Wayne"})]})]}),Object(v.jsxs)(p.a,{children:[Object(v.jsx)(h.a,{for:"post",children:"Post"}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(f.a,{addonType:"prepend",children:Object(v.jsx)(g.a,{children:Object(v.jsx)(o.a,{size:15})})}),Object(v.jsx)(y.a,{id:"post",placeholder:"Web Developer"})]})]}),Object(v.jsxs)(p.a,{children:[Object(v.jsx)(h.a,{for:"email",children:"Email"}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(f.a,{addonType:"prepend",children:Object(v.jsx)(g.a,{children:Object(v.jsx)(j.a,{size:15})})}),Object(v.jsx)(y.a,{type:"email",id:"email",placeholder:"brucewayne@email.com"})]})]}),Object(v.jsxs)(p.a,{children:[Object(v.jsx)(h.a,{for:"joining-date",children:"Joining Date"}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(f.a,{addonType:"prepend",children:Object(v.jsx)(g.a,{children:Object(v.jsx)(d.a,{size:15})})}),Object(v.jsx)(l.a,{className:"form-control",id:"joining-date",value:S,onChange:function(e){return C(e)}})]})]}),Object(v.jsxs)(p.a,{className:"mb-4",children:[Object(v.jsx)(h.a,{for:"salary",children:"Salary"}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(f.a,{addonType:"prepend",children:Object(v.jsx)(g.a,{children:Object(v.jsx)(b.a,{size:15})})}),Object(v.jsx)(y.a,{type:"number",id:"salary"})]})]}),Object(v.jsx)(N.a,{className:"mr-1",color:"primary",onClick:s,children:"Submit"}),Object(v.jsx)(N.a,{color:"secondary",onClick:s,outline:!0,children:"Cancel"})]})]})}}}]);
//# sourceMappingURL=347.37e0f19b.chunk.js.map