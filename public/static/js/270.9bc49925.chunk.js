(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[270],{2374:function(e,t,a){"use strict";a.r(t);var s=a(476),c=a(477),r=a(21),n=a(1),o=a(16),i=a(478),l=a(0),u=a(495),d=a(487),j=a(1553),b=a(534),p=a(660),m=a(474),f=a(470),O=a(483),h=a(482),g=a(480),x=a(486),y=a(496),v=a(485),_=a(1488),N=a(489),T=a(1513),M=a(1485),C=a(502),k=a(472),w=a(6);t.default=function(){var e=Object(p.g)(),t=Object(l.useState)(!1),a=Object(o.a)(t,2),P=a[0],S=a[1],q=Object(l.useRef)(),R=Object(l.useState)([]),z=Object(o.a)(R,2),B=z[0],I=z[1],E=Object(l.useState)(!0),H=Object(o.a)(E,2),A=H[0],F=H[1],L=Object(l.useState)({tier:"",point_required:0,is_point_required:!1,is_num_of_transaction:!1,num_of_transaction:0,is_amount_of_transaction:!1,amount_of_transaction:0,is_month_sustained:!1,months:0,status:!1,frequency:!1,is_service_type:!1,service_type:0}),J=Object(o.a)(L,2),D=J[0],K=J[1],G=function(e){K(Object(n.a)(Object(n.a)({},D),{},Object(r.a)({},e.target.name,e.target.value)))};Object(l.useEffect)(Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("usePMStoken",!1),localStorage.setItem("useBMStoken",!0),e.next=4,i.a.getServiceList().then((function(e){console.log(e),I(e.data),localStorage.setItem("useBMStoken",!1)})).catch((function(e){var t;401===(null===(t=e.response)||void 0===t?void 0:t.status)?(localStorage.setItem("BMSCall",!0),i.a.getBMStoken({username:b.f,password:b.d}).then((function(e){localStorage.setItem("BMStoken",e.data.jwtToken),localStorage.setItem("BMSCall",!1),F(!A)})).catch((function(e){localStorage.setItem("BMSCall",!1),console.log(e)}))):(Object(k.a)(e),console.log(e),localStorage.setItem("useBMStoken",!1))}));case 4:case"end":return e.stop()}}),e)}))),[A]);return Object(w.jsxs)(l.Fragment,{children:[Object(w.jsx)(f.a.Ripple,{className:"mb-1",color:"primary",tag:m.b,to:"/AllTiers",children:Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(j.a,{size:17,style:{marginRight:"5px"}}),Object(w.jsx)("span",{children:"Back"})]})}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(h.a,{className:"border-bottom",children:Object(w.jsx)(g.a,{tag:"h4",children:"Create Tier"})}),Object(w.jsx)(x.a,{style:{paddingTop:"15px"},children:Object(w.jsxs)(y.a,{className:"row",style:{width:"100%"},onSubmit:function(t){t.preventDefault();var a=D.tier,s=D.point_required;S(!0),i.a.tierCreate({tier:a,point_required:s}).then((function(t){S(!1),console.log(t),Object(k.c)(t),e.push("/AllTiers")})).catch((function(e){S(!1),Object(k.a)(e),console.log(e.response)}))},autoComplete:"off",children:[Object(w.jsx)(v.a,{sm:"4",children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(N.a,{for:"tier",children:["Tier Name",Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(T.a,{type:"text",name:"tier",id:"tier",value:D.tier,onChange:G,required:!0,placeholder:"tier name"})]})}),Object(w.jsx)(v.a,{sm:"4",children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(N.a,{for:"point_required",children:["Required Point",Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(T.a,{type:"number",name:"point_required",id:"point_required",min:0,value:D.point_required,onChange:G,required:!0,placeholder:"0"})]})}),Object(w.jsx)(v.a,{sm:"4",children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(N.a,{for:"num_of_transaction",children:["Number Of Transaction",Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(T.a,{type:"number",name:"num_of_transaction",id:"num_of_transaction",min:0,value:D.num_of_transaction,onChange:G,required:!0,placeholder:"0"})]})}),Object(w.jsx)(v.a,{sm:"4",children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(N.a,{for:"amount_of_transaction",children:["Amount Of Transaction",Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(T.a,{type:"number",name:"amount_of_transaction",id:"amount_of_transaction",min:0,value:D.amount_of_transaction,onChange:G,required:!0,placeholder:"0"})]})}),Object(w.jsx)(v.a,{sm:"4",children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(N.a,{for:"months",children:["Months",Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(T.a,{type:"number",name:"months",id:"months",min:0,value:D.months,onChange:G,required:!0,placeholder:"0"})]})}),Object(w.jsx)(v.a,{sm:"4"}),Object(w.jsx)(v.a,{sm:"3",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Is Service Type?",id:"is_service_type",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{is_service_type:!0})):K(Object(n.a)(Object(n.a)({},D),{},{is_service_type:!1,service_type:""}))}})})}),D.is_service_type&&Object(w.jsx)(v.a,{sm:"4",children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(N.a,{for:"serviceId",children:["Service Type",Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(u.a,{ref:q,theme:d.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:function(e){K(Object(n.a)(Object(n.a)({},D),{},{service_type:e.value}))},options:null===B||void 0===B?void 0:B.map((function(e){return{value:e.serviceId,label:e.serviceKeyword}})),isLoading:0===B.length}),Object(w.jsx)(T.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:function(e){return q.current.select.focus()},value:D.service_type||"",onChange:function(e){return""}})]})}),Object(w.jsx)(v.a,{sm:"3",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Is Point Required?",id:"is_point_required",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{is_point_required:!0})):K(Object(n.a)(Object(n.a)({},D),{},{is_point_required:!1}))}})})}),Object(w.jsx)(v.a,{sm:"4",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Is Number Of Transaction?",id:"is_num_of_transaction",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{is_num_of_transaction:!0})):K(Object(n.a)(Object(n.a)({},D),{},{is_num_of_transaction:!1}))}})})}),Object(w.jsx)(v.a,{sm:"4",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Is Amount Of Transaction?",id:"is_amount_of_transaction",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{is_amount_of_transaction:!0})):K(Object(n.a)(Object(n.a)({},D),{},{is_amount_of_transaction:!1}))}})})}),Object(w.jsx)(v.a,{sm:"3",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Is Month Sustained?",id:"is_month_sustained",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{is_month_sustained:!0})):K(Object(n.a)(Object(n.a)({},D),{},{is_month_sustained:!1}))}})})}),Object(w.jsx)(v.a,{sm:"3",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Status",id:"status",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{status:!0})):K(Object(n.a)(Object(n.a)({},D),{},{status:!1}))}})})}),Object(w.jsx)(v.a,{sm:"3",className:"mt-1",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(M.a,{type:"switch",label:"Frequency",id:"frequency",onChange:function(e){e.target.checked?K(Object(n.a)(Object(n.a)({},D),{},{frequency:!0})):K(Object(n.a)(Object(n.a)({},D),{},{frequency:!1}))}})})}),Object(w.jsx)(v.a,{sm:"12",className:"text-center",children:P?Object(w.jsxs)(f.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(w.jsx)(C.a,{color:"white",size:"sm"}),Object(w.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(w.jsx)(f.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(w.jsx)("span",{children:"Submit"})})})]})})]})]})}},472:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n}));a(0);var s=a(127),c=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=function(e){var t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},480:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tag,o=Object(c.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),a);return n.a.createElement(r,Object(s.a)({},o,{className:i}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},482:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tag,o=Object(c.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-header"),a);return n.a.createElement(r,Object(s.a)({},o,{className:i}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},483:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j={tag:d.tagPropType,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,a=e.cssModule,r=e.color,o=e.body,i=e.inverse,l=e.outline,j=e.tag,b=e.innerRef,p=Object(c.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(d.mapToCssModules)(u()(t,"card",!!i&&"text-white",!!o&&"card-body",!!r&&(l?"border":"bg")+"-"+r),a);return n.a.createElement(j,Object(s.a)({},p,{className:m,ref:b}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},485:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j=i.a.oneOfType([i.a.number,i.a.string]),b=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:j,offset:j})]),p={tag:d.tagPropType,xs:b,sm:b,md:b,lg:b,xl:b,className:i.a.string,cssModule:i.a.object,widths:i.a.array},m={tag:"div",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,r=e.widths,o=e.tag,i=Object(c.a)(e,["className","cssModule","widths","tag"]),l=[];r.forEach((function(t,s){var c=e[t];if(delete i[t],c||""===c){var r=!s;if(Object(d.isObject)(c)){var n,o=r?"-":"-"+t+"-",j=f(r,t,c.size);l.push(Object(d.mapToCssModules)(u()(((n={})[j]=c.size||""===c.size,n["order"+o+c.order]=c.order||0===c.order,n["offset"+o+c.offset]=c.offset||0===c.offset,n)),a))}else{var b=f(r,t,c);l.push(b)}}})),l.length||l.push("col");var j=Object(d.mapToCssModules)(u()(t,l),a);return n.a.createElement(o,Object(s.a)({},i,{className:j}))};O.propTypes=p,O.defaultProps=m,t.a=O},486:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,o=e.tag,i=Object(c.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(t,"card-body"),a);return n.a.createElement(o,Object(s.a)({},i,{className:l,ref:r}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},489:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j=i.a.oneOfType([i.a.number,i.a.string]),b=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:j,order:j,offset:j})]),p={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:i.a.array},m={tag:"label",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,r=e.hidden,o=e.widths,i=e.tag,l=e.check,j=e.size,b=e.for,p=Object(c.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),m=[];o.forEach((function(t,s){var c=e[t];if(delete p[t],c||""===c){var r,n=!s;if(Object(d.isObject)(c)){var o,i=n?"-":"-"+t+"-";r=f(n,t,c.size),m.push(Object(d.mapToCssModules)(u()(((o={})[r]=c.size||""===c.size,o["order"+i+c.order]=c.order||0===c.order,o["offset"+i+c.offset]=c.offset||0===c.offset,o))),a)}else r=f(n,t,c),m.push(r)}}));var O=Object(d.mapToCssModules)(u()(t,!!r&&"sr-only",!!l&&"form-check-label",!!j&&"col-form-label-"+j,m,!!m.length&&"col-form-label"),a);return n.a.createElement(i,Object(s.a)({htmlFor:b},p,{className:O}))};O.propTypes=p,O.defaultProps=m,t.a=O},496:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(59),n=a(122),o=a(0),i=a.n(o),l=a(5),u=a.n(l),d=a(58),j=a.n(d),b=a(83),p={children:u.a.node,inline:u.a.bool,tag:b.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.submit=a.submit.bind(Object(r.a)(a)),a}Object(n.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.inline,n=e.tag,o=e.innerRef,l=Object(c.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(b.mapToCssModules)(j()(t,!!r&&"form-inline"),a);return i.a.createElement(n,Object(s.a)({},l,{ref:o,className:u}))},t}(o.Component);m.propTypes=p,m.defaultProps={tag:"form"},t.a=m},502:function(e,t,a){"use strict";var s=a(14),c=a(15),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(58),u=a.n(l),d=a(83),j={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},b=function(e){var t=e.className,a=e.cssModule,r=e.type,o=e.size,i=e.color,l=e.children,j=e.tag,b=Object(c.a)(e,["className","cssModule","type","size","color","children","tag"]),p=Object(d.mapToCssModules)(u()(t,!!o&&"spinner-"+r+"-"+o,"spinner-"+r,!!i&&"text-"+i),a);return n.a.createElement(j,Object(s.a)({role:"status"},b,{className:p}),l&&n.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",a)},l))};b.propTypes=j,b.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=b}}]);
//# sourceMappingURL=270.9bc49925.chunk.js.map