(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[315],{1765:function(e,t,a){"use strict";a.r(t);var n=a(21),c=a(1),s=a(16),i=a(0),o=a(660),r=a(499),l=a.n(r),d=a(501),b=a.n(d),u=a(1527),j=a(1552),m=a(487),p=a(483),O=a(496),f=a(484),g=a(485),h=a(489),x=a(1513),v=a(470),C=a(482),y=a(480),N=a(502),k=a(486),T=a(478),w=a(490),L=a.n(w),_=a(481),S=a.n(_),P=a(495),D=a(479),F=a(6);S()(L.a);t.default=function(){Object(o.g)();var e=Object(i.useState)(0),t=Object(s.a)(e,2),a=t[0],r=t[1],d=Object(i.useState)(!0),w=Object(s.a)(d,2),L=w[0],_=w[1],S=Object(i.useState)([]),M=Object(s.a)(S,2),B=M[0],R=M[1],E=Object(i.useState)({from:null,to:null,startdate:null,enddate:null}),I=Object(s.a)(E,2),Y=I[0],W=I[1],z=Object(i.useState)({from:[],to:[],storename:""}),U=Object(s.a)(z,2),A=U[0],q=U[1];Object(i.useEffect)((function(){T.a.depositFromTo().then((function(e){var t={from:e.data.payload.from_data.map((function(e){return{value:e,label:e}})),to:e.data.payload.to_data.map((function(e){return{value:e,label:e}})),storename:e.data.payload.storename};q(t)})).catch((function(e){console.log(e)})),T.a.cashDepositLogList(Y).then((function(e){_(!1),R(e.data.payload)})).catch((function(e){console.log(e)}))}),[]);var H=function(e){W(Object(c.a)(Object(c.a)({},Y),{},Object(n.a)({},e.target.name,e.target.value)))},J=[{name:"Time",selector:function(e){return Object(D.b)(e.created_at)},minWidth:"200px",sortable:!0},{name:"From",selector:"from",minWidth:"50px",sortable:!0},{name:"To",selector:"to",minWidth:"50px",sortable:!0},{name:"Deposit Amount",selector:function(e){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(D.d)((+e.deposit_amount).toFixed(2)))},minWidth:"200px",sortable:!0},{name:"Till Balance",selector:function(e){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(D.d)((+e.current_balance).toFixed(2)))},minWidth:"200px",sortable:!0},{name:"User",selector:"created_by",minWidth:"100px",sortable:!0}];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(p.a,{className:"py-0 px-1 px-md-0 pl-md-1",children:Object(F.jsx)(O.a,{className:"my-2",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),_(!0),console.log(Y),T.a.cashDepositLogList(Y).then((function(e){_(!1),R(e.data.payload),console.log(e)})).catch((function(e){console.log(e)}))},autoComplete:"off",children:Object(F.jsxs)(f.a,{children:[Object(F.jsx)(g.a,{md:"5",children:Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{style:{width:"50%"},children:[Object(F.jsx)(h.a,{for:"startdate",children:"Start date"}),Object(F.jsx)(x.a,{required:!0,style:{width:"100%"},placeholder:"startdate",type:"date",id:"startdate",name:"startdate",onChange:H})]}),Object(F.jsxs)("div",{style:{width:"50%"},children:[Object(F.jsx)(h.a,{for:"enddate",children:"End date"}),Object(F.jsx)(x.a,{required:!0,style:{width:"100%"},placeholder:"enddate",type:"date",id:"enddate",name:"enddate",onChange:H})]})]})}),Object(F.jsx)(g.a,{md:"5",children:Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{style:{width:"50%"},children:[Object(F.jsx)(h.a,{for:"From",children:"From"}),Object(F.jsx)(P.a,{style:{width:"100%"},theme:m.i,className:"react-select",classNamePrefix:"select",name:"From",onChange:function(e,t){var a=t.action;W("clear"===a?Object(c.a)(Object(c.a)({},Y),{},{from:null}):Object(c.a)(Object(c.a)({},Y),{},{from:e.value}))},options:A.from,isClearable:!0,isLoading:!1})]}),Object(F.jsxs)("div",{style:{width:"50%"},children:[Object(F.jsx)(h.a,{for:"To",children:"To"}),Object(F.jsx)(P.a,{style:{width:"100%"},theme:m.i,className:"react-select",classNamePrefix:"select",name:"To",onChange:function(e,t){var a=t.action;W("clear"===a?Object(c.a)(Object(c.a)({},Y),{},{to:null}):Object(c.a)(Object(c.a)({},Y),{},{to:e.value}))},options:A.to,isClearable:!0,isLoading:!1})]})]})}),Object(F.jsx)(g.a,{md:"2",children:Object(F.jsxs)(v.a.Ripple,{className:"ml-lg-2",color:"primary",type:"submit",style:{marginTop:"22px"},children:[Object(F.jsx)(u.a,{size:15}),Object(F.jsx)("span",{className:"align-middle ml-50",children:"Search"})]})})]})})}),Object(F.jsxs)(p.a,{children:[Object(F.jsx)(C.a,{className:"border-bottom",children:Object(F.jsxs)(y.a,{tag:"h4",children:["Cash Deposit at ",A.storename?A.storename:""]})}),Object(F.jsx)(b.a,{noHeader:!0,pagination:!0,columns:J,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(F.jsx)(j.a,{size:10}),paginationDefaultPage:a+1,paginationComponent:function(){var e;return Object(F.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:a,onPageChange:function(e){return function(e){r(e.selected)}(e)},pageCount:B.length?B.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(n.a)(e,"breakClassName","page-item"),Object(n.a)(e,"breakLinkClassName","page-link"),Object(n.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:B,progressPending:L,progressComponent:Object(F.jsx)(N.a,{color:"primary"}),responsive:!0}),Object(F.jsx)(k.a,{style:{paddingTop:"15px"}})]})]})}},1766:function(e,t,a){"use strict";a.r(t);var n=a(121),c=a(21),s=a(16),i=a(0),o=a(660),r=a(499),l=a.n(r),d=a(501),b=a.n(d),u=a(1653),j=a(1552),m=(a(487),a(483)),p=a(482),O=a(480),f=a(496),g=a(484),h=a(485),x=a(489),v=a(1513),C=a(470),y=a(502),N=a(486),k=a(478),T=a(490),w=a.n(T),L=a(481),_=a.n(L),S=a(479),P=a(472),D=a(6),F=_()(w.a);t.default=function(){Object(o.g)();var e=Object(i.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],d=Object(i.useState)(0),T=Object(s.a)(d,2),L=T[0],_=T[1],M=Object(i.useState)(!0),B=Object(s.a)(M,2),R=B[0],E=B[1],I=Object(i.useState)(!1),Y=Object(s.a)(I,2),W=Y[0],z=Y[1],U=Object(i.useState)([]),A=Object(s.a)(U,2),q=A[0],H=A[1],J=Object(i.useState)(0),K=Object(s.a)(J,2),G=K[0],Q=K[1],V=localStorage.getItem("ip"),X=Object(i.useState)(!1),Z=Object(s.a)(X,2),$=(Z[0],Z[1],function(e){return F.fire(Object(c.a)({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1,preConfirm:function(){return k.a.depositDelete({deposit_id:e}).then((function(e){var t=e.data.payload.balance;return Q(void 0===t?0:t),e})).catch((function(e){return console.log(e),Object(P.a)(e),!1}))}},"allowOutsideClick",(function(){return!w.a.isLoading()}))).then((function(t){t.isConfirmed&&(!function(e){var t=q.filter((function(t){return t.id!==e}));H(t)}(e),F.fire({icon:"success",title:"Deleted!",text:"The Deposit has been deleted.",customClass:{confirmButton:"btn btn-success"}}))}))});Object(i.useEffect)((function(){k.a.depositLogList({page:1,limit:30,from_id:2,to_id:3,ip:V}).then((function(e){E(!1),H(e.data.payload.data),console.log(e.data.payload.data),Q(e.data.payload.current_balance)})).catch((function(e){console.log(e)}))}),[]);var ee=[{name:"Time",selector:function(e){return Object(S.b)(e.created_at)},minWidth:"200px",sortable:!0},{name:"Till",selector:"till_id",minWidth:"100px",sortable:!0},{name:"Deposit Amount",selector:function(e,t){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(S.d)((+e.deposit_amount).toFixed(2)))},minWidth:"150px",sortable:!0},{name:"Till Balance",selector:function(e,t){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(S.d)((+e.current_balance).toFixed(2)))},minWidth:"200px",sortable:!0},{name:"User",selector:"created_by",minWidth:"200px",sortable:!0},{name:"Actions",allowOverflow:!0,cell:function(e){return Object(D.jsx)(u.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return $(e.id)}})}}];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(m.a,{className:"py-0 px-1",children:[Object(D.jsx)(p.a,{className:"border-bottom",children:Object(D.jsx)(O.a,{tag:"h4",children:"Safe Deposit to Bank"})}),Object(D.jsx)(f.a,{className:"my-2",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),""!==a&&0!==Number(a)&&(z(!0),k.a.submitDeposit({deposit_amount:a,from_id:2,to_id:3,ip:V}).then((function(e){Object(P.c)(e);var t=e.data.payload,a=(t.current_balance,t.deposit_amount),c=t.till_balance,s=t.till_id,i=t.username,o={id:t.id,created_at:(new Date).toISOString(),till_id:s,deposit_amount:a,created_by:i,current_balance:c};Q(c),H([o].concat(Object(n.a)(q))),r(""),z(!1)})).catch((function(e){Object(P.a)(e),z(!1)})))},autoComplete:"off",children:Object(D.jsxs)(g.a,{children:[Object(D.jsxs)(h.a,{md:"6",children:[Object(D.jsx)(x.a,{for:"From",children:"Amount"}),Object(D.jsx)(v.a,{style:{width:"100%"},placeholder:"1000",type:"number",min:"0",id:"search-input",value:a,onChange:function(e){r(e.target.value)}})]}),Object(D.jsx)(h.a,{md:"2",children:W?Object(D.jsxs)(C.a.Ripple,{color:"primary",style:{marginTop:"22px"},disabled:!0,children:[Object(D.jsx)(y.a,{color:"white",size:"sm"}),Object(D.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(D.jsx)(C.a.Ripple,{color:"primary",style:{marginTop:"22px"},type:"submit",children:Object(D.jsx)("span",{className:"align-middle ml-50",children:"Deposit"})})}),Object(D.jsxs)(h.a,{md:"4",children:[Object(D.jsx)(x.a,{for:"From",children:"Current Till Cash Balance"}),Object(D.jsx)("h2",{children:"".concat(window.CURRENCY_SYMBOL," ").concat(Object(S.d)((+G).toFixed(2)))})]})]})})]}),Object(D.jsxs)(m.a,{children:[Object(D.jsx)(p.a,{className:"border-bottom",children:Object(D.jsx)(O.a,{tag:"h4",children:"Last 30 Items"})}),Object(D.jsx)(b.a,{noHeader:!0,pagination:!0,columns:ee,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(D.jsx)(j.a,{size:10}),paginationDefaultPage:L+1,paginationComponent:function(){var e;return Object(D.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:L,onPageChange:function(e){return function(e){_(e.selected)}(e)},pageCount:q.length?q.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(c.a)(e,"breakClassName","page-item"),Object(c.a)(e,"breakLinkClassName","page-link"),Object(c.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:q,progressPending:R,progressComponent:Object(D.jsx)(y.a,{color:"primary"}),responsive:!0}),Object(D.jsx)(N.a,{style:{paddingTop:"15px"}})]})]})}},2449:function(e,t,a){"use strict";a.r(t);var n=a(16),c=a(0),s=a.n(c),i=a(548),o=a(1525),r=a(1526),l=a(550),d=a(551),b=a(1765),u=a(2122),j=a(1766),m=a(6);t.default=function(){var e=Object(c.useState)("1"),t=Object(n.a)(e,2),a=t[0],p=t[1],O=function(e){a!==e&&p(e)};return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsxs)(i.a,{tabs:!0,children:[Object(m.jsx)(o.a,{children:Object(m.jsx)(r.a,{active:"1"===a,onClick:function(){O("1")},children:"Cash Deposit"})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(r.a,{active:"2"===a,onClick:function(){O("2")},children:"Deposit to Safe"})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(r.a,{active:"3"===a,onClick:function(){O("3")},children:"Safe to Bank"})})]}),Object(m.jsxs)(l.a,{className:"py-50",activeTab:a,children:[Object(m.jsx)(d.a,{tabId:"1",children:Object(m.jsx)(b.default,{})}),Object(m.jsx)(d.a,{tabId:"2",children:Object(m.jsx)(u.default,{})}),Object(m.jsx)(d.a,{tabId:"3",children:Object(m.jsx)(j.default,{})})]})]})}},498:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),c=a.n(n).a.createContext({})},548:function(e,t,a){"use strict";var n=a(14),c=a(15),s=a(0),i=a.n(s),o=a(5),r=a.n(o),l=a(58),d=a.n(l),b=a(83),u={tabs:r.a.bool,pills:r.a.bool,vertical:r.a.oneOfType([r.a.bool,r.a.string]),horizontal:r.a.string,justified:r.a.bool,fill:r.a.bool,navbar:r.a.bool,card:r.a.bool,tag:b.tagPropType,className:r.a.string,cssModule:r.a.object},j=function(e){var t=e.className,a=e.cssModule,s=e.tabs,o=e.pills,r=e.vertical,l=e.horizontal,u=e.justified,j=e.fill,m=e.navbar,p=e.card,O=e.tag,f=Object(c.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),g=Object(b.mapToCssModules)(d()(t,m?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(r),{"nav-tabs":s,"card-header-tabs":p&&s,"nav-pills":o,"card-header-pills":p&&o,"nav-justified":u,"nav-fill":j}),a);return i.a.createElement(O,Object(n.a)({},f,{className:g}))};j.propTypes=u,j.defaultProps={tag:"ul",vertical:!1},t.a=j},550:function(e,t,a){"use strict";var n=a(14),c=a(122),s=a(0),i=a.n(s),o=a(5),r=a.n(o),l=a(58),d=a.n(l),b=a(498),u=a(83),j={tag:u.tagPropType,activeTab:r.a.any,className:r.a.string,cssModule:r.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(c.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,c=e.tag,s=Object(u.omit)(this.props,Object.keys(j)),o=Object(u.mapToCssModules)(d()("tab-content",t),a);return i.a.createElement(b.a.Provider,{value:{activeTabId:this.state.activeTab}},i.a.createElement(c,Object(n.a)({},s,{className:o})))},t}(s.Component);t.a=m,m.propTypes=j,m.defaultProps={tag:"div"}},551:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(14),c=a(15),s=a(0),i=a.n(s),o=a(5),r=a.n(o),l=a(58),d=a.n(l),b=a(498),u=a(83),j={tag:u.tagPropType,className:r.a.string,cssModule:r.a.object,tabId:r.a.any};function m(e){var t=e.className,a=e.cssModule,s=e.tabId,o=e.tag,r=Object(c.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(u.mapToCssModules)(d()("tab-pane",t,{active:s===e}),a)};return i.a.createElement(b.a.Consumer,null,(function(e){var t=e.activeTabId;return i.a.createElement(o,Object(n.a)({},r,{className:l(t)}))}))}m.propTypes=j,m.defaultProps={tag:"div"}}}]);
//# sourceMappingURL=315.1e806aae.chunk.js.map