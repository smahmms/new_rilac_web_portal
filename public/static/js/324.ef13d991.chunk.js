(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[324],{2457:function(e,s,t){"use strict";t.r(s);var a=t(121),r=t(21),n=t(1),c=t(16),o=t(0),i=(t(85),t(770),t(1553)),l=t(1515),u=t(470),d=t(483),b=t(482),j=t(480),p=t(486),g=t(496),h=t(485),O=t(1488),m=t(489),f=t(1513),v=t(1485),x=t(555),k=t(502),y=t(478),N=(t(472),t(660)),C=t(474),T=t(495),P=t(487),R=(t(642),t(6));s.default=function(){Object(N.g)();var e=Object(o.useRef)(),s=JSON.parse(localStorage.getItem("customerBusinesses")),t=Object(o.useState)(!1),M=Object(c.a)(t,2),z=M[0],w=(M[1],Object(o.useState)(!0)),S=Object(c.a)(w,2),E=S[0],B=S[1],q=Object(o.useState)([]),H=Object(c.a)(q,2),F=H[0],K=H[1],L=Object(o.useState)([{skustartrange:"",skuendrange:"",skupoints:""}]),U=Object(c.a)(L,2),_=U[0],J=U[1],A=function(){for(var e=!0,s=0;s<_.length;s++){if(e=Object.values(_[s]).includes(""))return}B(e)},I=Object(o.useState)({skuamount:0,skupoints:0,skustartrange:0,skuendrange:0,product_id:0,isrange:!1}),D=Object(c.a)(I,2),V=D[0],G=D[1];Object(o.useEffect)((function(){!function(e){K([]);var s={page:1,perPage:5e4,business_id:e,q:null,imageurlhave:null,searchValue:null};y.a.productList(s).then((function(e){console.log(e);var s=e.data.payload;K(s.data.map((function(e){return{value:e.productid,label:e.productname}})))})).catch((function(e){console.log(e)}))}(s[0].id)}),[]);var Q=function(e){G(Object(n.a)(Object(n.a)({},V),{},Object(r.a)({},e.target.name,e.target.value)))};return Object(R.jsxs)(o.Fragment,{children:[Object(R.jsx)(u.a.Ripple,{className:"mb-1",color:"primary",tag:C.b,to:"/PointRuleList",children:Object(R.jsxs)("div",{className:"d-flex align-items-center",children:[Object(R.jsx)(i.a,{size:17,style:{marginRight:"5px"}}),Object(R.jsx)("span",{children:"Back"})]})}),Object(R.jsxs)(d.a,{children:[Object(R.jsx)(b.a,{className:"border-bottom",children:Object(R.jsx)(j.a,{tag:"h4",children:"Set Rule"})}),Object(R.jsx)(p.a,{style:{paddingTop:"15px"},children:Object(R.jsxs)(g.a,{className:"row",style:{width:"100%"},onSubmit:function(e){e.preventDefault()},autoComplete:"off",children:[Object(R.jsx)(h.a,{sm:"6",children:Object(R.jsxs)(O.a,{children:[Object(R.jsxs)(m.a,{for:"Product",children:["Select a Product",Object(R.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(R.jsx)(T.a,{ref:e,theme:P.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:function(e){G(Object(n.a)(Object(n.a)({},V),{},{product_id:e.value}))},options:F,isLoading:!F.length}),Object(R.jsx)(f.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:function(s){return e.current.select.focus()},value:(null===V||void 0===V?void 0:V.product_id)||"",onChange:function(e){return""}})]})}),V.isrange?null:Object(R.jsx)(h.a,{sm:"6",children:Object(R.jsxs)(O.a,{children:[Object(R.jsxs)(m.a,{for:"skupoints",children:["SKU Points",Object(R.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(R.jsx)(f.a,{type:"number",name:"skupoints",id:"skupoints",value:V.skupoints,onChange:Q,required:!0,placeholder:"0"})]})}),Object(R.jsx)(h.a,{sm:"12",className:"mb-1",children:Object(R.jsx)(O.a,{children:Object(R.jsx)(v.a,{type:"switch",id:"isrange",name:"isrange",label:"Is Range?",onChange:function(e){e.target.checked?G(Object(n.a)(Object(n.a)({},V),{},{isrange:!0})):G(Object(n.a)(Object(n.a)({},V),{},{isrange:!1}))}})})}),V.isrange?null:Object(R.jsx)(h.a,{sm:"6",children:Object(R.jsxs)(O.a,{children:[Object(R.jsxs)(m.a,{for:"skuamount",children:["SKU Amount",Object(R.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(R.jsx)(f.a,{type:"number",name:"skuamount",id:"skuamount",value:V.skuamount,onChange:Q,required:!0,placeholder:"0"})]})}),!!V.isrange&&Object(R.jsx)(h.a,{md:"12",children:Object(R.jsxs)(x.a,{bordered:!0,responsive:!0,children:[Object(R.jsx)("thead",{style:{background:"white"},children:Object(R.jsxs)("tr",{children:[Object(R.jsxs)("th",{style:{background:"white"},children:["SKU Start Range",Object(R.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(R.jsxs)("th",{style:{background:"white"},children:["SKU End Range",Object(R.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(R.jsxs)("th",{style:{background:"white"},children:["SKU Point",Object(R.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(R.jsx)("th",{style:{background:"white"},children:"Action"})]})}),Object(R.jsx)("tbody",{children:_.map((function(e,s){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:Object(R.jsx)(f.a,{type:"number",name:"skustartrange",id:"skustartrange".concat(s),value:e.skustartrange,min:s>0?Number(_[s-1].skuendrange)+.01:0,onChange:function(e){A();var t=Object(a.a)(_);t[s]=Object(n.a)(Object(n.a)({},t[s]),{},{skustartrange:parseFloat(e.target.value)}),J(t)},required:!0,placeholder:"0"})}),Object(R.jsx)("td",{children:Object(R.jsx)(f.a,{type:"number",name:"skuendrange",id:"skuendrange".concat(s),value:e.skuendrange,min:e.skustartrange||0,onChange:function(e){A();var t=Object(a.a)(_);t[s]=Object(n.a)(Object(n.a)({},t[s]),{},{skuendrange:parseFloat(e.target.value)}),J(t)},required:!0,placeholder:"0"})}),Object(R.jsx)("td",{children:Object(R.jsx)(f.a,{type:"number",name:"skupoints",id:"skupoints".concat(s),value:e.skupoints,min:0,onChange:function(e){A();var t=Object(a.a)(_);t[s]=Object(n.a)(Object(n.a)({},t[s]),{},{skupoints:parseFloat(e.target.value)}),J(t)},required:!0,placeholder:"0"})}),Object(R.jsxs)("td",{children:[Object(R.jsx)(u.a.Ripple,{size:"sm",color:"info",type:E?"submit":"button",onClick:function(e){for(var s=0;s<_.length;s++){if(Object.values(_[s]).includes(""))return}J([].concat(Object(a.a)(_),[{skustartrange:Number(_[_.length-1].skuendrange)+.01,skuendrange:"",skupoints:""}])),B(!0)},children:Object(R.jsx)(l.a,{size:15})}),"\xa0\xa0",_.length>1&&Object(R.jsx)(u.a.Ripple,{size:"sm",color:"danger",onClick:function(e){J(_.filter((function(e,t){return t!==s})))},children:Object(R.jsx)(Minus,{size:15})})]})]},s)}))})]})}),Object(R.jsx)(h.a,{sm:"12",className:"text-center",children:z?Object(R.jsxs)(u.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(R.jsx)(k.a,{color:"white",size:"sm"}),Object(R.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(R.jsx)(u.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(R.jsx)("span",{children:"Submit"})})})]})})]})]})}},472:function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"b",(function(){return n})),t.d(s,"c",(function(){return c}));t(0);var a=t(127),r=function(e){try{var s=e.response;404===s.status||401===s.status||400===s.status||500===s.status||409===s.status?a.f.error(s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):a.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(s){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=function(e){try{var s=e.response;404!==s.status&&401!==s.status&&400!==s.status||a.f.error(s.data.errors?s.data.errors[Object.keys(s.data.errors)[0]]:s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(s){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){var s=e.data.message||"success";a.f.success(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},489:function(e,s,t){"use strict";var a=t(14),r=t(15),n=t(0),c=t.n(n),o=t(5),i=t.n(o),l=t(58),u=t.n(l),d=t(83),b=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:b,order:b,offset:b})]),p={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:j,sm:j,md:j,lg:j,xl:j,widths:i.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,s,t){return!0===t||""===t?e?"col":"col-"+s:"auto"===t?e?"col-auto":"col-"+s+"-auto":e?"col-"+t:"col-"+s+"-"+t},O=function(e){var s=e.className,t=e.cssModule,n=e.hidden,o=e.widths,i=e.tag,l=e.check,b=e.size,j=e.for,p=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];o.forEach((function(s,a){var r=e[s];if(delete p[s],r||""===r){var n,c=!a;if(Object(d.isObject)(r)){var o,i=c?"-":"-"+s+"-";n=h(c,s,r.size),g.push(Object(d.mapToCssModules)(u()(((o={})[n]=r.size||""===r.size,o["order"+i+r.order]=r.order||0===r.order,o["offset"+i+r.offset]=r.offset||0===r.offset,o))),t)}else n=h(c,s,r),g.push(n)}}));var O=Object(d.mapToCssModules)(u()(s,!!n&&"sr-only",!!l&&"form-check-label",!!b&&"col-form-label-"+b,g,!!g.length&&"col-form-label"),t);return c.a.createElement(i,Object(a.a)({htmlFor:j},p,{className:O}))};O.propTypes=p,O.defaultProps=g,s.a=O},496:function(e,s,t){"use strict";var a=t(14),r=t(15),n=t(59),c=t(122),o=t(0),i=t.n(o),l=t(5),u=t.n(l),d=t(58),b=t.n(d),j=t(83),p={children:u.a.node,inline:u.a.bool,tag:j.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},g=function(e){function s(s){var t;return(t=e.call(this,s)||this).getRef=t.getRef.bind(Object(n.a)(t)),t.submit=t.submit.bind(Object(n.a)(t)),t}Object(c.a)(s,e);var t=s.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,s=e.className,t=e.cssModule,n=e.inline,c=e.tag,o=e.innerRef,l=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(j.mapToCssModules)(b()(s,!!n&&"form-inline"),t);return i.a.createElement(c,Object(a.a)({},l,{ref:o,className:u}))},s}(o.Component);g.propTypes=p,g.defaultProps={tag:"form"},s.a=g},502:function(e,s,t){"use strict";var a=t(14),r=t(15),n=t(0),c=t.n(n),o=t(5),i=t.n(o),l=t(58),u=t.n(l),d=t(83),b={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},j=function(e){var s=e.className,t=e.cssModule,n=e.type,o=e.size,i=e.color,l=e.children,b=e.tag,j=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),p=Object(d.mapToCssModules)(u()(s,!!o&&"spinner-"+n+"-"+o,"spinner-"+n,!!i&&"text-"+i),t);return c.a.createElement(b,Object(a.a)({role:"status"},j,{className:p}),l&&c.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",t)},l))};j.propTypes=b,j.defaultProps={tag:"div",type:"border",children:"Loading..."},s.a=j},555:function(e,s,t){"use strict";var a=t(14),r=t(15),n=t(0),c=t.n(n),o=t(5),i=t.n(o),l=t(58),u=t.n(l),d=t(83),b={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:d.tagPropType,responsiveTag:d.tagPropType,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},j=function(e){var s=e.className,t=e.cssModule,n=e.size,o=e.bordered,i=e.borderless,l=e.striped,b=e.dark,j=e.hover,p=e.responsive,g=e.tag,h=e.responsiveTag,O=e.innerRef,m=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),f=Object(d.mapToCssModules)(u()(s,"table",!!n&&"table-"+n,!!o&&"table-bordered",!!i&&"table-borderless",!!l&&"table-striped",!!b&&"table-dark",!!j&&"table-hover"),t),v=c.a.createElement(g,Object(a.a)({},m,{ref:O,className:f}));if(p){var x=Object(d.mapToCssModules)(!0===p?"table-responsive":"table-responsive-"+p,t);return c.a.createElement(h,{className:x},v)}return v};j.propTypes=b,j.defaultProps={tag:"table",responsiveTag:"div"},s.a=j}}]);
//# sourceMappingURL=324.ef13d991.chunk.js.map