(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[61],{2367:function(e,t,s){"use strict";s.r(t);var n=s(476),r=s(497),i=s(477),c=s(16),l=s(478),a=(s(518),s(0)),o=s(1553),d=s(474),j=s(470),b=s(496),h=s(483),u=s(482),x=s(480),O=s(486),m=s(484),v=s(485),g=s(502),p=s(490),f=s.n(p),y=s(481),N=s.n(y),w=s(472),_=s(6);N()(f.a);t.default=function(){var e,t,s,p,f=JSON.parse(localStorage.getItem("userData")),y=Object(a.useState)(JSON.parse(localStorage.getItem("promoInfo"))),N=Object(c.a)(y,2),C=N[0],I=(N[1],Object(a.useState)(null)),S=Object(c.a)(I,2),k=S[0],D=S[1],P=Object(a.useState)([]),A=Object(c.a)(P,2),B=(A[0],A[1]),G=Object(a.useState)([]),R=Object(c.a)(G,2),T=R[0],H=R[1],L=Object(a.useState)([]),M=Object(c.a)(L,2),F=M[0],J=M[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(i.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.customerBusinessList().then((function(e){var t=e.data.payload;H(t.map((function(e){return{value:e.id,label:e.businessname}})))})).catch((function(e){console.log(e.response),Object(w.a)(e)}));case 2:return e.next=4,l.a.adRuleList().then((function(e){var t,s=[],n=Object(r.a)(e.data.payload);try{for(n.s();!(t=n.n()).done;){var i=t.value;!0===i.is_approved&&s.push(i)}}catch(c){n.e(c)}finally{n.f()}console.log("adrule",null===s||void 0===s?void 0:s.find((function(e){return e.id===C.rule_id}))),D(null===s||void 0===s?void 0:s.find((function(e){return e.id===C.rule_id}))),B(s)})).catch((function(e){Object(w.a)(e),console.log(e)}));case 4:l.a.getCentralGroup().then((function(e){console.log(e);var t,s=[],n=Object(r.a)(e.data.payload);try{for(n.s();!(t=n.n()).done;){var i=t.value;!0===i.is_approved&&s.push(i)}}catch(c){n.e(c)}finally{n.f()}J(s)})).catch((function(e){Object(w.a)(e),console.log(e.response)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(j.a.Ripple,{className:"mb-1",color:"primary",tag:d.b,to:"vendor"===(null===f||void 0===f?void 0:f.role)?"/promolistVendor":"/promolist",children:Object(_.jsxs)("div",{className:"d-flex align-items-center",children:[Object(_.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(_.jsx)("span",{children:"Back"})]})}),Object(_.jsxs)(b.a,{style:{width:"100%"},onSubmit:function(){},autoComplete:"off",children:[Object(_.jsxs)(h.a,{children:[Object(_.jsx)(u.a,{className:"border-bottom",children:Object(_.jsx)(x.a,{tag:"h4",children:"Promotion Details"})}),Object(_.jsx)(O.a,{style:{paddingTop:"15px"},children:Object(_.jsxs)(m.a,{children:[Object(_.jsx)(v.a,{sm:"6",children:Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Promotion Name:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===C||void 0===C?void 0:C.title})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Description:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===C||void 0===C?void 0:C.description})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Merchant:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:(null===(e=T.find((function(e){return+e.value===+(null===C||void 0===C?void 0:C.merchant_id)})))||void 0===e?void 0:e.label)||"N/A"})})]})]})}),Object(_.jsx)(v.a,{sm:"6",children:Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Promotion Type:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===C||void 0===C?void 0:C.promotion_type})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Is Global Promotion?:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null!==C&&void 0!==C&&C.is_global?"True":"False"})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Group:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:(null===(t=F.find((function(e){return e.id===(null===C||void 0===C?void 0:C.group_id)})))||void 0===t?void 0:t.group_name)||"N/A"})})]})]})}),Object(_.jsxs)(v.a,{sm:"12",children:[Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsx)(u.a,{className:"border-bottom",children:Object(_.jsx)(x.a,{tag:"h5",children:"Images"})}),Object(_.jsx)(O.a,{children:null===C||void 0===C||null===(s=C.image_urls)||void 0===s?void 0:s.map((function(e,t){return Object(_.jsx)("div",{className:"d-flex flex-column",children:Object(_.jsx)("img",{className:"rounded mt-2 mr-1",src:e,alt:"avatar",width:"30%"})},t)}))})]}),Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsx)(u.a,{className:"border-bottom",children:Object(_.jsx)(x.a,{tag:"h5",children:"Mobile Images"})}),Object(_.jsx)(O.a,{children:null!==C&&void 0!==C&&null!==(p=C.mobile_image_urls)&&void 0!==p&&p.length?null===C||void 0===C?void 0:C.mobile_image_urls.map((function(e,t){return Object(_.jsx)("div",{className:"d-flex flex-column",children:Object(_.jsx)("img",{className:"rounded mt-2 mr-1",src:e,alt:"avatar",width:"30%"})},t)})):"No images"})]})]})]})})]}),k?Object(_.jsxs)(h.a,{children:[Object(_.jsx)(u.a,{className:"border-bottom",children:Object(_.jsx)(x.a,{tag:"h4",children:"Ad Rule Details"})}),Object(_.jsx)(O.a,{style:{paddingTop:"15px"},children:Object(_.jsxs)(m.a,{children:[Object(_.jsx)(v.a,{sm:"6",children:Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Campaign Objective:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.campaign_objective})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Rule Name:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.rule_name})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Rule Name:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.rule_name})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Start Date:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:new Date(null===k||void 0===k?void 0:k.start_date).toLocaleDateString("fr-CA")})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Expired Date:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:new Date(null===k||void 0===k?void 0:k.expired_date).toLocaleDateString("fr-CA")})})]})]})}),Object(_.jsx)(v.a,{sm:"6",children:Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Gender:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===(null===k||void 0===k?void 0:k.gender)?"All":1===parseInt(null===k||void 0===k?void 0:k.gender)?"Males":2===parseInt(null===k||void 0===k?void 0:k.gender)?"Females":"N/A"})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Max Age:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.max_age})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Min Age:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.min_age})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Is Customize Group?:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null!==k&&void 0!==k&&k.isCustomizeGroup?"True":"False"})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Groups:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===F||void 0===F?void 0:F.map((function(e){var t,s=Object(r.a)(null===k||void 0===k?void 0:k.group);try{for(s.s();!(t=s.n()).done;){var n=t.value;if(parseInt(n)===parseInt(e.id))return e.group_name}}catch(i){s.e(i)}finally{s.f()}}))})})]})]})}),Object(_.jsx)(v.a,{sm:"6",children:Object(_.jsxs)(h.a,{style:{border:"1px solid grey"},children:[Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Device Info/Device Platform:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.device_platform.map((function(e){return 1===parseInt(e)?"Mobile":2===parseInt(e)?"Desktop":void 0}))})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"OS Version/User OS:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.user_os})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Country:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.country})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Interested Category:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.interest})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Longtitude:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.longtitude})})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Latitude:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:null===k||void 0===k?void 0:k.latitude})})]})]})}),Object(_.jsx)(v.a,{sm:"6",children:Object(_.jsx)(h.a,{style:{border:"1px solid grey"},children:Object(_.jsxs)("div",{className:"d-flex justify-content-between border-bottom p-1",children:[Object(_.jsx)("h6",{style:{margin:"0"},children:"Rule Type:"}),Object(_.jsx)("h6",{style:{margin:"0"},children:Object(_.jsx)("b",{children:(null===k||void 0===k?void 0:k.rule_type)||"N/A"})})]})})})]})})]}):Object(_.jsx)(v.a,{sm:"4",className:"p-1",children:Object(_.jsx)(g.a,{color:"blue"})})]})]})}},472:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return c}));s(0);var n=s(127),r=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?n.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):n.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},i=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||n.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){var t=e.data.message||"success";n.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},518:function(e,t,s){}}]);
//# sourceMappingURL=61.803ffb65.chunk.js.map