(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[321],{1764:function(e,t,n){"use strict";n.r(t);var a=n(21),r=n(16),o=n(478),i=n(0),c=n(660),s=n(1520),l=n(472),u=n(1550),d=n(1672),g=n(500),p=n(479),m=n(490),b=n.n(m),f=n(638),h=n(6);t.default=function(e){var t=e.TableDataLoading,n=(e.roleList,e.setRefresh,e.refresh,localStorage.getItem("username")),m=(Object(c.i)().id,Object(c.g)(),Object(i.useState)([])),O=Object(r.a)(m,2),j=(O[0],O[1],Object(i.useState)([])),v=Object(r.a)(j,2),C=(v[0],v[1],Object(i.useState)(!1)),y=Object(r.a)(C,2),x=(y[0],y[1],Object(i.useState)([])),k=Object(r.a)(x,2),S=k[0],N=k[1],P=Object(i.useState)(!1),w=Object(r.a)(P,2),A=(w[0],w[1],Object(i.useState)(!1)),D=Object(r.a)(A,2),L=D[0],T=D[1],E=Object(i.useState)([]),_=Object(r.a)(E,2),B=(_[0],_[1],Object(i.useState)({role_name:"",sub_menu_ids:[],menu_ids:[]})),I=Object(r.a)(B,2);I[0],I[1];console.log(S),Object(i.useEffect)((function(){localStorage.setItem("useBMStoken",!1),localStorage.setItem("usePMStoken",!1),o.a.roleBasedPending().then((function(e){console.log("getAdminMenuSubmenuList",e),N(e.data.payload)})).catch((function(e){Object(l.a)(e),console.log(e)}))}),[]);var H=function(e,t){return b.a.fire(Object(a.a)({title:"Are you sure?",text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var n={module_id:e,action:t};return console.log(n),o.a.roleBasedAction(n).then((function(e){Object(l.c)(e),console.log(e),T(!L)})).catch((function(e){console.log(e),Object(l.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!b.a.isLoading()}))).then((function(e){e.isConfirmed}))},M=[{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by"},{name:"Created At",minWidth:"250px",sortable:!0,selector:function(e){return e.created_at?Object(p.b)(e.created_at):null}},{name:"Operation",minWidth:"100px",sortable:!0,selector:function(e){return Object(h.jsxs)(s.a,{color:Object(f.a)(e.action).color,pill:!0,className:"px-1",children:[" ",Object(f.a)(e.action).title," "]})}},{name:"Module Name",minWidth:"200px",sortable:!0,selector:function(e){var t;return null===(t=e.module)||void 0===t?void 0:t.module_name}},{name:"Role Name",minWidth:"150px",sortable:!0,selector:function(e){var t;return"".concat(e.role_id,"-").concat(null===(t=e.roles)||void 0===t?void 0:t.role_name)}},{name:"Action",minWidth:"150px",selector:function(e){return e.created_by===n?"Pending":Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{title:"Approve",children:Object(h.jsx)(u.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:function(){H(e.module_id,"approve")}})}),"\xa0\xa0",Object(h.jsx)("span",{title:"Reject",children:Object(h.jsx)(d.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){H(e.module_id,"reject")}})})]})}}];return Object(h.jsx)(i.Fragment,{children:Object(h.jsx)(g.a,{column:M,TableData:S,TableDataLoading:t})})}},472:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n(0);var a=n(127),r=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?a.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):a.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||a.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},i=function(e){var t=e.data.message||"success";a.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},479:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(476),r=n(477),o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},i=function(e){return new Date(e).toLocaleDateString(void 0,o)},c=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t){e.next=4;break}return window.location.href="/Adminlogin",e.next=4,localStorage.clear();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e,t,n){var a=document.createElement("a"),r=function(e){var n;return n="",n+=t.join(","),n+="\n",e.forEach((function(e){var a=0;t.forEach((function(t){a>0&&(n+=","),n+=e[t],a++})),n+="\n"})),n}(e);if(null!==r){var o=JSON.parse(localStorage.getItem("userData")),i="".concat(n,"_").concat((new Date).toISOString(),"_").concat(o.fullname.replaceAll(/\s/g,""),".csv");r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),a.setAttribute("href",encodeURI(r)),a.setAttribute("download",i),a.click()}}},500:function(e,t,n){"use strict";var a=n(16),r=n(0),o=n(1552),i=n(502),c=n(499),s=n.n(c),l=n(501),u=n.n(l),d=n(6);t.a=function(e){var t=e.column,n=e.TableData,c=e.TableDataLoading,l=Object(r.useState)(0),g=Object(a.a)(l,2),p=g[0],m=g[1];return Object(d.jsx)(r.Fragment,{children:Object(d.jsx)(u.a,{noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(d.jsx)(o.a,{size:10}),paginationDefaultPage:p+1,paginationComponent:function(){return Object(d.jsx)(s.a,{previousLabel:"",nextLabel:"",forcePage:p,onPageChange:function(e){return function(e){m(e.selected)}(e)},pageCount:n.length?n.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:n,progressPending:c,progressComponent:Object(d.jsx)(i.a,{color:"primary"}),responsive:!0,pointerOnHover:!0,highlightOnHover:!0,striped:!0})})}},502:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(0),i=n.n(o),c=n(5),s=n.n(c),l=n(58),u=n.n(l),d=n(83),g={tag:d.tagPropType,type:s.a.string,size:s.a.string,color:s.a.string,className:s.a.string,cssModule:s.a.object,children:s.a.string},p=function(e){var t=e.className,n=e.cssModule,o=e.type,c=e.size,s=e.color,l=e.children,g=e.tag,p=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),m=Object(d.mapToCssModules)(u()(t,!!c&&"spinner-"+o+"-"+c,"spinner-"+o,!!s&&"text-"+s),n);return i.a.createElement(g,Object(a.a)({role:"status"},p,{className:m}),l&&i.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",n)},l))};p.propTypes=g,p.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=p},638:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var a={1:{title:"Active",color:"light-success "},0:{title:"Pending",color:"light-primary"},5:{title:"Stopped",color:"light-danger"},11:{title:"Unpaid",color:"light-primary"}},r={1:{title:"Active",color:"light-success "},0:{title:"In-Active",color:"light-primary"}},o={Insert:{title:"Insert",color:"light-success "},Update:{title:"Update",color:"light-primary"},Delete:{title:"Delete",color:"light-danger"},INSERT:{title:"INSERT",color:"light-success "},UPDATE:{title:"UPDATE",color:"light-primary"},DELETE:{title:"DELETE",color:"light-danger"}},i=function(e){return a[e]||{title:"N/A",color:"light-danger"}},c=function(e){return r[e]||{title:"N/A",color:"light-danger"}},s=function(e){return o[e]||{title:"N/A",color:"light-danger"}}}}]);
//# sourceMappingURL=321.3e9bd111.chunk.js.map