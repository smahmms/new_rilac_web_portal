(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[346],{1132:function(e,t,c){},2444:function(e,t,c){"use strict";c.r(t);var s=c(21),a=c(121),n=c(1),i=c(16),o=c(0),l=c(660),r=(c(499),c(501),c(1551)),d=c(1653),j=c(1553),u=c(1655),m=c(1654),b=(c(487),c(131)),p=c(502),O=c(470),h=c(555),x=c(1485),g=c(1520),f=c(484),y=c(485),N=c(483),_=c(1516),w=c(515),v=c(496),C=c(1488),S=c(489),R=c(1513),F=c(533),k=c(536),B=c(531),E=c(506),Y=c(478),U=(c(1132),c(490)),A=c.n(U),z=c(481),L=c.n(z),I=c(472),P=c(580),T=c.n(P),D=c(638),M=c(2120),H=c.n(M),J=c(2121),q=c.n(J),K=c(820),G=c.n(K),Q=c(6),V=L()(A.a),W={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},legend:{show:!0},labels:["Used","Remaining"],stroke:{width:0},colors:["#28c76f66","#28c76f"],grid:{padding:{right:-20,bottom:-8,left:-20}},plotOptions:{pie:{startAngle:0,donut:{labels:{show:!0,name:{offsetY:15},value:{offsetY:-15,formatter:function(e){return"".concat(parseFloat(e)," %")}},total:{show:!0,offsetY:15,label:"IOU",formatter:function(e){return" "}}}}}}};t.default=function(){var e=Object(l.i)().payID,t=Object(l.g)(),c=(Object(o.useRef)(0),Object(o.useState)(!1)),U=Object(i.a)(c,2),z=U[0],L=U[1],P=Object(o.useState)([]),M=Object(i.a)(P,2),J=M[0],K=M[1],X=Object(o.useState)([100,0]),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.useState)(-1),ce=Object(i.a)(te,2),se=ce[0],ae=ce[1],ne=(Object(o.useContext)(b.a).colors,Object(o.useState)({})),ie=Object(i.a)(ne,2),oe=ie[0],le=ie[1],re=Object(o.useState)({}),de=Object(i.a)(re,2),je=de[0],ue=de[1],me=Object(o.useState)([]),be=Object(i.a)(me,2),pe=be[0],Oe=be[1],he=Object(o.useState)([]),xe=Object(i.a)(he,2),ge=xe[0],fe=xe[1],ye=Object(o.useState)([]),Ne=Object(i.a)(ye,2),_e=Ne[0],we=Ne[1],ve=Object(o.useState)(!0),Ce=Object(i.a)(ve,2),Se=Ce[0],Re=Ce[1],Fe=Object(o.useState)(0),ke=Object(i.a)(Fe,2),Be=ke[0],Ee=ke[1],Ye=Object(o.useState)(!0),Ue=Object(i.a)(Ye,2),Ae=Ue[0],ze=Ue[1],Le=Object(o.useState)(""),Ie=Object(i.a)(Le,2),Pe=Ie[0],Te=Ie[1],De=Object(o.useState)(0),Me=Object(i.a)(De,2),He=Me[0],Je=Me[1],qe=Object(o.useState)(!1),Ke=Object(i.a)(qe,2),Ge=Ke[0],Qe=Ke[1],Ve=Object(o.useState)(!1),We=Object(i.a)(Ve,2),Xe=We[0],Ze=We[1],$e=Object(o.useState)([]),et=Object(i.a)($e,2),tt=et[0],ct=et[1],st=Object(o.useState)(!1),at=Object(i.a)(st,2),nt=at[0],it=at[1],ot=Object(o.useState)(!1),lt=Object(i.a)(ot,2),rt=lt[0],dt=lt[1],jt=Object(o.useState)(""),ut=Object(i.a)(jt,2),mt=ut[0],bt=ut[1],pt=Object(o.useState)(""),Ot=Object(i.a)(pt,2),ht=Ot[0],xt=Ot[1],gt=Object(o.useState)(0),ft=Object(i.a)(gt,2),yt=(ft[0],ft[1],Object(o.useState)(!1)),Nt=Object(i.a)(yt,2),_t=Nt[0],wt=Nt[1],vt=Object(o.useState)(!1),Ct=Object(i.a)(vt,2),St=Ct[0],Rt=Ct[1],Ft=Object(o.useState)(!1),kt=Object(i.a)(Ft,2),Bt=kt[0],Et=kt[1],Yt=Object(o.useState)(!1),Ut=Object(i.a)(Yt,2),At=Ut[0],zt=Ut[1],Lt=Object(o.useState)([]),It=Object(i.a)(Lt,2),Pt=(It[0],It[1]),Tt=Object(o.useState)(!0),Dt=Object(i.a)(Tt,2),Mt=Dt[0],Ht=Dt[1],Jt=Object(o.useState)(!1),qt=Object(i.a)(Jt,2),Kt=qt[0],Gt=qt[1],Qt=Object(o.useState)(0),Vt=Object(i.a)(Qt,2),Wt=Vt[0],Xt=Vt[1],Zt=Object(o.useState)(!1),$t=Object(i.a)(Zt,2),ec=$t[0],tc=$t[1],cc=Object(o.useState)(0),sc=Object(i.a)(cc,2),ac=sc[0],nc=sc[1],ic=Object(o.useState)(!1),oc=Object(i.a)(ic,2),lc=oc[0],rc=oc[1],dc=Object(o.useState)(null),jc=Object(i.a)(dc,2),uc=(jc[0],jc[1]),mc=Object(o.useState)(!1),bc=Object(i.a)(mc,2),pc=bc[0],Oc=bc[1],hc=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&Gt(!0),Y.a.customerinvoicedetailswithsubpaymentinfo({receipt_id:e}).then((function(e){var c=e.data.payload.invoicepaymentinfo,s=!1,a=(void 0===c?[]:c).map((function(e,t){return e.amount,e.payment_success||(s=!0),{id:e.id,time:new Date(e.time).toLocaleString(),typename:e.type_name,amount:e.amount,payment_success:e.payment_success,payment_type_id:e.type_id}}));ct(a||[]),s||(console.log("autoreloadingonprocess ",pc),rc(!1),clearInterval(window.customTimeInterval),uc(null),Oc(!1)),Ht(s),t&&Gt(!1)})).catch((function(e){t&&(Gt(!1),Object(I.a)(e)),console.log(e)}))},xc=function(){if(!lc){var e=setInterval((function(){rc(!0),hc(!1),console.log("interval calling..")}),15e3);window.customTimeInterval=e,Oc(!0)}};Object(o.useEffect)((function(){Y.a.customerinvoicedetailswithsubpaymentinfo({receipt_id:e}).then((function(e){console.log(e.data.payload);var t=e.data.payload,c=t.businessinfo,s=void 0===c?{}:c,a=t.invoiceinfo,n=void 0===a?{}:a,i=t.invoicepaymentinfo,o=void 0===i?[]:i,l=t.selectedinvoiceinfo,r=void 0===l?{}:l,d=n.invoices,j=void 0===d?[]:d,u=0,m=!1;console.log("invoicepaymentinfo ",o),console.log("businessinfo ",s);var b=o.map((function(e,t){return u+=e.amount,e.payment_success||(m=!0),{id:e.id,time:new Date(e.time).toLocaleString(),typename:e.type_name,amount:e.amount,payment_success:e.payment_success,payment_type_id:e.type_id}}));m&&xc();var p=r?r.invoice_ids:[];if(Ht(m),Pt(p||[]),le(s||{}),ue(n),ct(b||[]),Qe(b.length||!1),Oe(j),j.length){var O=[],h=0,x=0;j.forEach((function(e,t){O[t]=e.row_id,h+=e.subtotal_amount,p.includes(e.row_id)&&(x+=e.subtotal_amount)})),h=+h.toFixed(2),fe(p.length?p:O),we(p.length?p:O),p.length&&Re(!1);var g=x-u;if(Ee(h),console.log("total - subtotal ",h-x),u&&0===g&&Ze(!0),Je(u?g:h),ze(!1),s){var f=s.iou_used,y=s.iou_limit;if(f){var N=+parseFloat(f/y*100).toFixed(2),_=+parseFloat(100-N).toFixed(2);ee([N,_])}}}})).catch((function(e){console.log(e),Object(I.a)(e)})),Y.a.getAllPaymentType().then((function(e){console.log(e.data.payload),K(e.data.payload)})).catch((function(e){console.log(e),Object(I.a)(e)}))}),[]);var gc=function(e,t){return-1===se&&0===e||-1!==se&&t===se?"info":"secondary"},fc=function(e){return console.log(e),V.fire(Object(s.a)({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1,preConfirm:function(){return Y.a.deleteSubPayment({id:e}).then((function(e){return e})).catch((function(e){return console.log(e.response),Object(I.a)(e),!1}))}},"allowOutsideClick",(function(){return!A.a.isLoading()}))).then((function(t){t.isConfirmed&&(!function(e){var t=tt.filter((function(t){if(t.id===e){if(4===t.payment_type_id||"4"===t.payment_type_id){var c=oe.iou_used-Number(t.amount),s=oe.iou_limit;if(c){var a=+parseFloat(c/s*100).toFixed(2),i=+parseFloat(100-a).toFixed(2);ee([a,i])}le(Object(n.a)(Object(n.a)({},oe),{},{iou_used:c}))}return Je(Math.abs(He+t.amount)),!1}return!0})),c=!1;tt.every((function(e){return!!e.payment_success||(c=!0,!1)})),Ht(!!c),Ze(!1),ct(t)}(e),V.fire({icon:"success",title:"Deleted!",text:"The payment has been deleted.",customClass:{confirmButton:"btn btn-success"}}))}))},yc=function(){var e=0;return tt.forEach((function(t){e+=t.amount})),+e.toFixed(2)},Nc=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_c=function(e){var t=0;e.target.checked?"allcheck"===e.target.name?(we(Object(a.a)(ge)),Re(!0),t=Be):(we([].concat(Object(a.a)(_e),[e.target.name])),Re(!1),pe.forEach((function(c){e.target.name===c.row_id&&(console.log(c),t=parseFloat(He)+c.subtotal_amount,console.log("due_amount ",t,"dueamount ",He,"subtotal_amount ",c.subtotal_amount))}))):("allcheck"===e.target.name?we([]):(we(_e.filter((function(t){return t!==e.target.name}))),pe.forEach((function(c){e.target.name===c.row_id&&(t=He-c.subtotal_amount,console.log("due_amount ",t,"dueamount ",He,"subtotal_amount ",c.subtotal_amount))}))),Re(!1)),t=+(t=parseFloat(t)-parseFloat(yc())).toFixed(2),Je(t),console.log(e.target.name,e.target.checked)},wc=function(){return Object(Q.jsxs)(o.Fragment,{children:[Kt?Object(Q.jsx)(p.a,{color:"secondary",className:"mr-25",style:{fontSize:10}}):Object(Q.jsx)(O.a.Ripple,{color:"primary",size:"sm",onClick:hc,className:"custom_button",children:Object(Q.jsx)("span",{className:"align-middle",style:{paddingLeft:"2px"},children:"Refresh"})}),Object(Q.jsx)(h.a,{responsive:!0,bordered:!0,size:"sm",children:Object(Q.jsx)("tbody",{children:tt.map((function(e,t){return Object(Q.jsxs)("tr",{children:[Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap",children:["#",t+1]}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap",children:[e.time," "]}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap",children:[e.payment_success?Object(Q.jsx)(r.a,{className:"mr-25",size:18}):Object(Q.jsx)(p.a,{color:"primary",className:"mr-25",size:"sm"}),e.typename," \xa0",3!==e.payment_type_id||e.payment_success?null:ec&&ac===e.id?Object(Q.jsx)(p.a,{color:"primary",className:"mr-25",size:"sm"}):Object(Q.jsx)(o.Fragment,{children:Object(Q.jsx)(O.a.Ripple,{color:"primary",size:"sm",className:"custom_button",onClick:function(t){return c=e.id,tc(!0),nc(c),void Y.a.resendnotificationforpay({subpaymentid:c}).then((function(e){Object(I.c)(e),tc(!1),nc(0)})).catch((function(e){tc(!1),nc(0),console.log(err),Object(I.a)(err)}));var c},id:"positionBottom".concat(e.id),children:Object(Q.jsx)("span",{className:"align-middle",style:{paddingLeft:"2px"},children:"Reset"})})})]}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap",children:[" ",window.CURRENCY_SYMBOL," ",Nc((+e.amount).toFixed(2))," "]}),Object(Q.jsx)("td",{scope:"col",className:"text-nowrap",children:!0!==e.payment_success||3!==e.payment_type_id&&5!==e.payment_type_id?Object(Q.jsx)(d.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return fc(e.id)}}):Object(Q.jsx)(d.a,{size:15,color:"#968f8f"})})]},t)}))})})]})},vc=function(){return Object(Q.jsx)(o.Fragment,{children:Ae?Object(Q.jsx)(p.a,{color:"primary"}):Object(Q.jsxs)(h.a,{responsive:!0,bordered:!0,size:"sm",children:[Object(Q.jsx)("thead",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsxs)("th",{scope:"col",className:"text-nowrap",children:[" ",Object(Q.jsx)(x.a,{disabled:Ge,name:"allcheck",inline:!0,type:"checkbox",id:"allcheck",onChange:function(e){return _c(e)},checked:Se})," "]}),Object(Q.jsx)("th",{scope:"col",className:"text-nowrap",children:"Time "}),Object(Q.jsx)("th",{scope:"col",className:"text-nowrap",children:"Invoice ID "}),Object(Q.jsx)("th",{scope:"col",className:"text-nowrap",children:" Till"}),Object(Q.jsx)("th",{scope:"col",className:"text-nowrap",children:" Amount "}),Object(Q.jsx)("th",{scope:"col",className:"text-nowrap",children:"Status "})]})}),Object(Q.jsx)("tbody",{children:pe.length?pe.map((function(e,t){return Object(Q.jsxs)("tr",{children:[Object(Q.jsxs)("td",{className:"text-nowrap",children:[" ",Object(Q.jsx)(x.a,{inline:!0,disabled:Ge,type:"checkbox",name:e.row_id,id:e.row_id,onChange:function(e){return _c(e)},checked:_e.includes(e.row_id)})]}),Object(Q.jsx)("td",{className:"text-nowrap",children:e.invoice_time}),Object(Q.jsx)("td",{className:"text-nowrap",children:e.invoice_id}),Object(Q.jsx)("td",{className:"text-nowrap",children:e.till_id}),Object(Q.jsxs)("td",{className:"text-nowrap",children:[window.CURRENCY_SYMBOL," ",Nc((+e.subtotal_amount).toFixed(2))]}),Object(Q.jsx)("td",{className:"text-nowrap",children:Object(Q.jsx)(g.a,{color:Object(D.b)(e.status).color,pill:!0,children:Object(D.b)(e.status).title})})]},t)})):null})]})})};return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(O.a.Ripple,{className:"mb-2 ml-2",color:"primary",onClick:function(){return t.goBack()},children:[Object(Q.jsx)(j.a,{size:10}),Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Back"})]}),Object(Q.jsxs)(f.a,{children:[Object(Q.jsx)(y.a,{sm:"6",children:Object(Q.jsx)(N.a,{className:"d-flex justify-content-center p-2",children:Object(Q.jsxs)(_.a,{children:[Object(Q.jsx)(E.a,{color:"light-success",icon:Object(Q.jsx)(u.a,{size:24}),className:"mr-2",style:{padding:"7px"}}),Object(Q.jsxs)(_.a,{className:"my-auto",body:!0,children:[Object(Q.jsxs)("h4",{className:"font-weight-bolder mb-0",children:[window.CURRENCY_SYMBOL," ",Nc((+yc()).toFixed(2))]}),Object(Q.jsx)(w.a,{className:"font-small-3 mb-0",children:"Tendered Amount"})]})]})})}),Object(Q.jsx)(y.a,{sm:"6",children:Object(Q.jsx)(N.a,{className:"d-flex justify-content-center p-2",children:Object(Q.jsxs)(_.a,{children:[Object(Q.jsx)(E.a,{color:"light-danger",icon:Object(Q.jsx)(m.a,{size:24}),className:"mr-2",style:{padding:"7px"}}),Object(Q.jsxs)(_.a,{className:"my-auto",body:!0,children:[Object(Q.jsxs)("h4",{className:"font-weight-bolder mb-0",children:[window.CURRENCY_SYMBOL," ",Nc(parseFloat(He).toFixed(2))]}),Object(Q.jsx)(w.a,{className:"font-small-3 mb-0",children:"Due Amount"})]})]})})})]}),Object(Q.jsx)(N.a,{className:"pt-1 pay4",children:Object(Q.jsxs)(f.a,{children:[Object(Q.jsxs)(y.a,{md:"5",children:[J.length?J.map((function(e,t){return Object(Q.jsx)(O.a.Ripple,{size:"sm",className:"ml-1 mb-1",color:gc(t,e.id),onClick:function(t){return c=e.id,ae(c),void console.log(c);var c},children:Object(Q.jsx)("span",{className:"align-middle",children:e.payment_type_name})},t)})):Object(Q.jsx)(p.a,{color:"primary"}),Object(Q.jsxs)("div",{className:"paycardBorder pt-1",children:[Object(Q.jsxs)(v.a,{className:"d-flex flex-wrap my-1 ml-1",style:{width:"100%"},autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),bt(""),0!==Number(Pe)&&Pe){if(Pe>He)return bt("Amount is exceed !"),0;var c={},s=0;-1===se?(c=J[0],s=J[0].id):J.forEach((function(e){e.id===se&&(c=e)}));var i=parseFloat(oe.iou_limit)-parseFloat(oe.iou_used)||0;if(4===c.id&&Pe>i)return bt("This customer has reached to IOU limit"),0;it(!0);var o=_e.map((function(e){return Number(e)})),l=s||se;Xt(Pe),Y.a.subPayment({payment_type_id:l,amount:+Pe,receipt_id:e,selectdinvoiceid:o}).then((function(e){if(3===se?(Rt(!0),Ht(!0),setTimeout((function(){return Rt(!1)}),5e3)):5===se&&(Et(!0),Ht(!0),setTimeout((function(){return Et(!1)}),5e3)),Object(I.c)(e),console.log("paymenttype ",se),4===se){var t=oe.iou_used+Number(Pe);console.log("businessinfo.iou_used ",oe.iou_used,"enetramount ",Pe);var s=oe.iou_limit;if(t){var i=+parseFloat(t/s*100).toFixed(2),o=+parseFloat(100-i).toFixed(2);ee([i,o])}le(Object(n.a)(Object(n.a)({},oe),{},{iou_used:t}))}it(!1);var r=!0;3!==l&&5!==l||(r=!1,xc()),ct([{id:e.data.payload.id,time:(new Date).toLocaleString(),typename:c.payment_type_name,amount:+Pe,payment_success:r,payment_type_id:l}].concat(Object(a.a)(tt))),Qe(!0),Te(""),Je(He-Pe),He-Pe===0&&Ze(!0)})).catch((function(e){it(!1),console.log(e),Object(I.a)(e)}))}},children:[mt?Object(Q.jsx)(C.a,{style:{width:"100%"},children:Object(Q.jsx)(S.a,{style:{color:"red"},children:mt})}):null,Object(Q.jsx)(C.a,{style:{width:"70%"},children:Object(Q.jsx)(R.a,{min:"0",placeholder:"0.00",type:"number",id:"search-input",step:"0.01",presicion:2,onChange:function(e){Te(e.target.value)},value:Pe})}),Object(Q.jsx)(C.a,{children:nt?Object(Q.jsxs)(O.a.Ripple,{className:"ml-1",color:"primary",disabled:!0,children:[Object(Q.jsx)(p.a,{color:"white",size:"sm"}),Object(Q.jsx)("small",{className:"ml-50"})]}):Object(Q.jsx)(O.a.Ripple,{className:"ml-1",color:"primary",type:"submit",disabled:Xe,children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Add"})})})]}),Object(Q.jsx)(O.a.Ripple,{className:"ml-1 mb-1",color:"info",size:"sm",onClick:function(){var e=+(+He).toFixed(2);Te(e)},children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Fill remains"})}),Object(Q.jsx)(O.a.Ripple,{className:"ml-1 mb-1",color:"info",size:"sm",onClick:function(){return wt(!0)},children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Manage IOU"})}),Object(Q.jsxs)(F.a,{isOpen:_t,toggle:function(){return wt(!_t)},children:[Object(Q.jsx)(k.a,{toggle:function(){wt(!_t),xt("")},children:"Manage IOU"}),Object(Q.jsxs)(B.a,{className:"px-md-5 px-1",children:[Object(Q.jsxs)("p",{children:["Customer Name : ",Object(Q.jsx)("span",{className:"float-right",children:je.customername||""})]}),Object(Q.jsxs)("p",{children:["Customer ID : ",Object(Q.jsx)("span",{className:"float-right",children:je.customer_id||""})]}),Object(Q.jsxs)("p",{children:["Business Name : ",Object(Q.jsxs)("span",{className:"float-right",children:[oe.businessname||""," "]})]}),Object(Q.jsxs)("p",{children:["Allowance : ",Object(Q.jsxs)("span",{className:"float-right",children:[window.CURRENCY_SYMBOL," ",oe.iou_limit?Nc((+oe.iou_limit).toFixed(2)):0]})]}),Object(Q.jsxs)("p",{children:["Used : ",Object(Q.jsxs)("span",{className:"float-right",children:[window.CURRENCY_SYMBOL," ",oe.iou_limit?Nc((+oe.iou_used).toFixed(2)||0):0]})]}),Object(Q.jsxs)("p",{children:["Remaining : ",Object(Q.jsxs)("span",{className:"float-right",children:[window.CURRENCY_SYMBOL," ",oe.iou_limit?Nc((+(parseFloat(oe.iou_limit||0)-parseFloat(oe.iou_used||0))).toFixed(2)):0]})]}),Object(Q.jsxs)("div",{className:"w-100",children:[Object(Q.jsx)("p",{className:"text-center mb-0",children:"IOU Allowance increase to"}),Object(Q.jsxs)(v.a,{className:"p-1",style:{width:"100%"},onSubmit:function(e){return e.preventDefault(),""===ht||"undefined"===typeof oe.id?0:Number(ht)<Number(oe.iou_limit||0)?(zt(!0),0):(L(!0),zt(!1),console.log({change:ht,typeid:1,busnessid:oe.id}),void Y.a.customerIOUmanage({change:Number(ht),typeid:1,busnessid:oe.id}).then((function(e){console.log(e),L(!1),le(Object(n.a)(Object(n.a)({},oe),{},{iou_limit:Number(ht)})),xt("");var t=oe.iou_used,c=Number(ht);if(t){var s=+parseFloat(t/c*100).toFixed(2),a=+parseFloat(100-s).toFixed(2);ee([s,a])}})).catch((function(e){console.log(e),Object(I.a)(e),L(!1)})))},autoComplete:"off",children:[Object(Q.jsxs)(H.a,{className:"input-group-merge w-100 mb-1",children:[Object(Q.jsx)(q.a,{addonType:"prepend",children:Object(Q.jsx)(G.a,{children:window.CURRENCY_SYMBOL})}),Object(Q.jsx)(R.a,{min:"0",placeholder:"0.00",type:"number",id:"search-input",onChange:function(e){xt(e.target.value)},value:ht})]}),At&&Object(Q.jsx)("small",{style:{color:"red",margin:"-10px 0px 10px 10px",display:"block"},children:"must be greater than Allowance"}),Object(Q.jsx)(C.a,{children:Object(Q.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(Q.jsx)(O.a.Ripple,{color:"danger",onClick:function(){wt(!_t),xt("")},children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Cancel"})}),z?Object(Q.jsxs)(O.a.Ripple,{className:"ml-1",color:"primary",disabled:!0,children:[Object(Q.jsx)(p.a,{color:"white",size:"sm"}),Object(Q.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(Q.jsx)(O.a.Ripple,{className:"ml-1",color:"primary",type:"submit",children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Add"})})]})})]})]})]})]}),Object(Q.jsxs)(F.a,{isOpen:St,toggle:function(){return Rt(!St)},children:[Object(Q.jsx)(k.a,{toggle:function(){return Rt(!St)}}),Object(Q.jsxs)(B.a,{className:"px-md-5 px-1",children:[Object(Q.jsx)("h3",{children:"Payment request for mobile payment to customer has been sent successfully."}),Object(Q.jsx)("p",{children:" Payment status will be updated just after it gets completed in the payment list section. Please click refresh button for manual check "})]}),Object(Q.jsx)("div",{className:"w-100 text-center pb-2",children:Object(Q.jsx)(O.a.Ripple,{color:"danger",onClick:function(){return Rt(!St)},children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Cancel"})})})]}),Object(Q.jsxs)(F.a,{isOpen:Bt,toggle:function(){return Et(!Bt)},children:[Object(Q.jsx)(k.a,{toggle:function(){return Et(!Bt)}}),Object(Q.jsxs)(B.a,{className:"px-md-5 px-1",style:{textAlign:"center"},children:[Object(Q.jsx)("h3",{children:"Please insert the card "}),Object(Q.jsx)("p",{children:"Ready to process payment"}),Object(Q.jsxs)("p",{children:[window.CURRENCY_SYMBOL," ",Wt]})]}),Object(Q.jsx)("div",{className:"w-100 text-center pb-2",children:Object(Q.jsx)(O.a.Ripple,{color:"danger",onClick:function(){return Et(!Bt)},children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Cancel"})})})]})]}),Object(Q.jsx)("div",{className:"paycardBorder",children:Object(Q.jsxs)(f.a,{children:[Object(Q.jsx)(y.a,{sm:"12",children:Object(Q.jsx)(wc,{})}),Object(Q.jsx)(y.a,{sm:"12",className:"text-center",children:rt?Object(Q.jsxs)(O.a.Ripple,{className:"my-1",color:"primary",disabled:!0,children:[Object(Q.jsx)(p.a,{color:"white",size:"sm"}),Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Submit"})]}):Object(Q.jsx)(O.a.Ripple,{className:"my-1",color:"primary",disabled:!(He<.2&&!1===Mt),onClick:function(c){console.log({receipt_id:e,paid_invoice_ids:_e,all_invoice_ids:ge,amount:yc(),apibaseurl:window.API_BASE_URL}),dt(!0),Y.a.totalInvoicePayment({receipt_id:e,paid_invoice_ids:_e,all_invoice_ids:ge,amount:yc(),apibaseurl:window.API_BASE_URL}).then((function(e){Object(I.c)(e),dt(!1),t.push("/payment")})).catch((function(e){dt(!1),console.log(e),Object(I.a)(e)}))},children:Object(Q.jsx)("span",{className:"align-middle ml-50",children:"Submit"})})})]})})]}),Object(Q.jsxs)(y.a,{md:"7",children:[Object(Q.jsxs)(f.a,{className:"pt-1",children:[Object(Q.jsx)(y.a,{sm:"7",children:Object(Q.jsx)(h.a,{responsive:!0,size:"sm",className:"detailsshowtable",children:Object(Q.jsxs)("tbody",{children:[Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Customer Name : "}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[je.customername||""," "]})]}),Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Customer ID : "}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize",children:[je.customer_id||""," "]})]}),Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Business Name : "}),Object(Q.jsx)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:oe.businessname||""})]}),Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap",children:" "}),Object(Q.jsx)("td",{scope:"col",className:"text-nowrap",children:" "})]}),Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Allowance : "}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[window.CURRENCY_SYMBOL," ",Nc((+(oe.iou_limit?oe.iou_limit:0)).toFixed(2))," "]})]}),Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Used : "}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[window.CURRENCY_SYMBOL," ",Nc((+(oe.iou_used?oe.iou_used:0)).toFixed(2))]})]}),Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Remaining : "}),Object(Q.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[window.CURRENCY_SYMBOL," ",Nc((+oe.iou_limit?parseFloat(oe.iou_limit||0)-parseFloat(oe.iou_used||0):0).toFixed(2))," "]})]})]})})}),Object(Q.jsx)(y.a,{sm:"5",children:Object(Q.jsx)(T.a,{options:W,series:$,type:"donut",height:120})}),Object(Q.jsx)(y.a,{sm:"12",children:Object(Q.jsx)("div",{className:"paycardBorder pt-1 mr-1 mt-2",children:Object(Q.jsx)(vc,{})})})]}),Object(Q.jsxs)("p",{className:"float-right mr-2 mt-2",children:["Total Amount : ",window.CURRENCY_SYMBOL," ",Nc((+Be||0).toFixed(2))]})]})]})})]})}},472:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return n})),c.d(t,"c",(function(){return i}));c(0);var s=c(127),a=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},i=function(e){var t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},638:function(e,t,c){"use strict";c.d(t,"b",(function(){return i})),c.d(t,"c",(function(){return o})),c.d(t,"a",(function(){return l}));var s={1:{title:"Active",color:"light-success "},0:{title:"Pending",color:"light-primary"},5:{title:"Stopped",color:"light-danger"},11:{title:"Unpaid",color:"light-primary"}},a={1:{title:"Active",color:"light-success "},0:{title:"In-Active",color:"light-primary"}},n={Insert:{title:"Insert",color:"light-success "},Update:{title:"Update",color:"light-primary"},Delete:{title:"Delete",color:"light-danger"},INSERT:{title:"INSERT",color:"light-success "},UPDATE:{title:"UPDATE",color:"light-primary"},DELETE:{title:"DELETE",color:"light-danger"}},i=function(e){return s[e]||{title:"N/A",color:"light-danger"}},o=function(e){return a[e]||{title:"N/A",color:"light-danger"}},l=function(e){return n[e]||{title:"N/A",color:"light-danger"}}}}]);
//# sourceMappingURL=346.57a2cd9e.chunk.js.map