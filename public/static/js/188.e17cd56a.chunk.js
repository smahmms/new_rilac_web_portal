(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[188],{2442:function(e,a,t){"use strict";t.r(a);var s=t(121),r=t(21),o=t(1),c=t(497),n=t(16),l=t(0),i=t(1553),d=t(1653),u=t(470),p=t(496),b=t(483),j=t(482),f=t(480),g=t(486),m=t(484),h=t(485),O=t(1488),v=t(489),y=t(1513),x=t(555),T=t(502),N=(t(528),t(478)),k=t(472),M=t(660),w=t(474),C=t(495),P=t(127),R=t(487),z=t(6);a.default=function(e){e.refresh,e.setrefresh,e.groupEditData,e.setgroupEditData;var a,t=Object(M.g)(),E=Object(l.useState)([]),S=Object(n.a)(E,2),_=S[0],G=S[1],B=Object(l.useState)(!1),H=Object(n.a)(B,2),I=H[0],D=H[1],J=Object(l.useState)([]),q=Object(n.a)(J,2),A=q[0],L=q[1],F=Object(l.useState)([]),K=Object(n.a)(F,2),U=K[0],Q=K[1],V=Object(l.useState)(null===(a=JSON.parse(localStorage.getItem("datapackInfo")))||void 0===a?void 0:a.group_items),W=Object(n.a)(V,2),X=W[0],Y=W[1],Z=Object(l.useState)({keyword:"",pack_code:""}),$=Object(n.a)(Z,2),ee=$[0],ae=$[1],te=Object(l.useState)(JSON.parse(localStorage.getItem("datapackInfo"))),se=Object(n.a)(te,2),re=se[0],oe=se[1];Object(l.useEffect)((function(){N.a.datapackList().then((function(e){console.log(e);var a,t=[],s=Object(c.a)(e.data.payload);try{for(s.s();!(a=s.n()).done;){var r=a.value;t.includes(r.operator)||t.push(r.operator)}}catch(o){s.e(o)}finally{s.f()}G(t.map((function(e){return{value:e,label:e}}))),L(e.data.payload)})).catch((function(e){console.log(e),Object(k.a)(e)}))}),[]);return Object(z.jsxs)(l.Fragment,{children:[Object(z.jsx)(u.a.Ripple,{className:"mb-1",color:"primary",tag:w.b,to:"/datapackGroup",children:Object(z.jsxs)("div",{className:"d-flex align-items-center",children:[Object(z.jsx)(i.a,{size:17,style:{marginRight:"5px"}}),Object(z.jsx)("span",{children:"Back"})]})}),Object(z.jsxs)(p.a,{style:{width:"100%"},onSubmit:function(e){if(e.preventDefault(),0===X.length)return P.f.error("Group item must have atleast 1 item."),0;delete re.group_items;var a=Object(o.a)(Object(o.a)({},re),{},{group_item:X});console.log("body ",a),D(!0),N.a.datapackGroupUpdate(a).then((function(e){D(!1),Object(k.c)(e),t.push("/datapackGroup")})).catch((function(e){D(!1),Object(k.a)(e),console.log(e.response)}))},autoComplete:"off",children:[Object(z.jsxs)(b.a,{children:[Object(z.jsx)(j.a,{children:Object(z.jsx)(f.a,{children:"Create Datapack Group"})}),Object(z.jsx)(g.a,{children:Object(z.jsx)(m.a,{children:Object(z.jsx)(h.a,{md:"4",children:Object(z.jsxs)(O.a,{children:[Object(z.jsx)(v.a,{for:"group_title",children:"Group Title"}),Object(z.jsx)(y.a,{type:"text",name:"group_title",id:"group_title",value:re.group_title,onChange:function(e){oe(Object(o.a)(Object(o.a)({},re),{},Object(r.a)({},e.target.name,e.target.value)))},required:!0,placeholder:"group_title"})]})})})})]}),Object(z.jsxs)(b.a,{children:[Object(z.jsx)(j.a,{children:Object(z.jsx)(f.a,{children:"Group Item"})}),Object(z.jsxs)(g.a,{children:[Object(z.jsxs)(m.a,{children:[Object(z.jsx)(h.a,{md:"4",children:Object(z.jsxs)(O.a,{children:[Object(z.jsxs)(v.a,{for:"Business",children:["Select a Operator ",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(z.jsx)(C.a,{theme:R.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:function(e){var a;if(X.map((function(e){return e.keyword})).includes(e.value))return P.f.error("The operator is already in the group item list!"),0;ae(Object(o.a)(Object(o.a)({},ee),{},{keyword:e.value})),Q(null===A||void 0===A||null===(a=A.filter((function(a){return a.operator===e.value})))||void 0===a?void 0:a.map((function(e){return{value:e.packcode,label:e.name}})))},value:_.find((function(e){return e.value===ee.keyword}))||{value:"",label:"select..."},options:_})]})}),Object(z.jsx)(h.a,{md:"4",children:Object(z.jsxs)(O.a,{children:[Object(z.jsxs)(v.a,{for:"Business",children:["Select a Pack ",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(z.jsx)(C.a,{theme:R.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:function(e){ae(Object(o.a)(Object(o.a)({},ee),{},{pack_code:e.value}))},value:U.find((function(e){return e.value===ee.pack_code}))||{value:"",label:"select..."},options:U})]})}),Object(z.jsx)(h.a,{md:"4",children:Object(z.jsx)(u.a.Ripple,{onClick:function(){return ee.keyword?ee.pack_code?(X.push(ee),void ae({keyword:"",pack_code:""})):(P.f.error("Pack code is required"),0):(P.f.error("Keyword is required"),0)},color:"primary",className:"mt-2",children:Object(z.jsx)("span",{children:"Add "})})})]}),Object(z.jsx)(m.a,{children:Object(z.jsxs)(b.a,{children:[Object(z.jsx)(j.a,{children:Object(z.jsx)(f.a,{children:"Group Items Preview"})}),Object(z.jsx)(g.a,{children:Object(z.jsxs)(x.a,{children:[Object(z.jsxs)("thead",{children:[Object(z.jsx)("th",{children:"Keyword"}),Object(z.jsx)("th",{children:"Pack Code"}),Object(z.jsx)("th",{})]}),Object(z.jsx)("tbody",{children:null===X||void 0===X?void 0:X.map((function(e,a){return Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:e.keyword}),Object(z.jsx)("td",{children:e.pack_code}),Object(z.jsx)("td",{children:Object(z.jsx)("span",{title:"Delete",children:Object(z.jsx)(d.a,{onClick:function(){return e=a,X.splice(e,1),void Y(Object(s.a)(X));var e},color:"red",size:"18px"})})})]})}))})]})})]})})]})]}),Object(z.jsx)(m.a,{children:Object(z.jsx)(h.a,{sm:"12",className:"text-center",children:I?Object(z.jsxs)(u.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(z.jsx)(T.a,{color:"white",size:"sm"}),Object(z.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(z.jsx)(u.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(z.jsx)("span",{children:"Update"})})})})]})]})}},472:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return c}));t(0);var s=t(127),r=function(e){try{var a=e.response;404===a.status||401===a.status||400===a.status||500===a.status||409===a.status?s.f.error(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){try{var a=e.response;404!==a.status&&401!==a.status&&400!==a.status||s.f.error(a.data.errors?a.data.errors[Object.keys(a.data.errors)[0]]:a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){var a=e.data.message||"success";s.f.success(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},480:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p={tag:u.tagPropType,className:l.a.string,cssModule:l.a.object},b=function(e){var a=e.className,t=e.cssModule,o=e.tag,n=Object(r.a)(e,["className","cssModule","tag"]),l=Object(u.mapToCssModules)(d()(a,"card-title"),t);return c.a.createElement(o,Object(s.a)({},n,{className:l}))};b.propTypes=p,b.defaultProps={tag:"div"},a.a=b},482:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p={tag:u.tagPropType,className:l.a.string,cssModule:l.a.object},b=function(e){var a=e.className,t=e.cssModule,o=e.tag,n=Object(r.a)(e,["className","cssModule","tag"]),l=Object(u.mapToCssModules)(d()(a,"card-header"),t);return c.a.createElement(o,Object(s.a)({},n,{className:l}))};b.propTypes=p,b.defaultProps={tag:"div"},a.a=b},483:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p={tag:u.tagPropType,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},b=function(e){var a=e.className,t=e.cssModule,o=e.color,n=e.body,l=e.inverse,i=e.outline,p=e.tag,b=e.innerRef,j=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=Object(u.mapToCssModules)(d()(a,"card",!!l&&"text-white",!!n&&"card-body",!!o&&(i?"border":"bg")+"-"+o),t);return c.a.createElement(p,Object(s.a)({},j,{className:f,ref:b}))};b.propTypes=p,b.defaultProps={tag:"div"},a.a=b},484:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p=l.a.oneOfType([l.a.number,l.a.string]),b={tag:u.tagPropType,noGutters:l.a.bool,className:l.a.string,cssModule:l.a.object,form:l.a.bool,xs:p,sm:p,md:p,lg:p,xl:p},j={tag:"div",widths:["xs","sm","md","lg","xl"]},f=function(e){var a=e.className,t=e.cssModule,o=e.noGutters,n=e.tag,l=e.form,i=e.widths,p=Object(r.a)(e,["className","cssModule","noGutters","tag","form","widths"]),b=[];i.forEach((function(a,t){var s=e[a];if(delete p[a],s){var r=!t;b.push(r?"row-cols-"+s:"row-cols-"+a+"-"+s)}}));var j=Object(u.mapToCssModules)(d()(a,o?"no-gutters":null,l?"form-row":"row",b),t);return c.a.createElement(n,Object(s.a)({},p,{className:j}))};f.propTypes=b,f.defaultProps=j,a.a=f},485:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p=l.a.oneOfType([l.a.number,l.a.string]),b=l.a.oneOfType([l.a.bool,l.a.number,l.a.string,l.a.shape({size:l.a.oneOfType([l.a.bool,l.a.number,l.a.string]),order:p,offset:p})]),j={tag:u.tagPropType,xs:b,sm:b,md:b,lg:b,xl:b,className:l.a.string,cssModule:l.a.object,widths:l.a.array},f={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},m=function(e){var a=e.className,t=e.cssModule,o=e.widths,n=e.tag,l=Object(r.a)(e,["className","cssModule","widths","tag"]),i=[];o.forEach((function(a,s){var r=e[a];if(delete l[a],r||""===r){var o=!s;if(Object(u.isObject)(r)){var c,n=o?"-":"-"+a+"-",p=g(o,a,r.size);i.push(Object(u.mapToCssModules)(d()(((c={})[p]=r.size||""===r.size,c["order"+n+r.order]=r.order||0===r.order,c["offset"+n+r.offset]=r.offset||0===r.offset,c)),t))}else{var b=g(o,a,r);i.push(b)}}})),i.length||i.push("col");var p=Object(u.mapToCssModules)(d()(a,i),t);return c.a.createElement(n,Object(s.a)({},l,{className:p}))};m.propTypes=j,m.defaultProps=f,a.a=m},486:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p={tag:u.tagPropType,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},b=function(e){var a=e.className,t=e.cssModule,o=e.innerRef,n=e.tag,l=Object(r.a)(e,["className","cssModule","innerRef","tag"]),i=Object(u.mapToCssModules)(d()(a,"card-body"),t);return c.a.createElement(n,Object(s.a)({},l,{className:i,ref:o}))};b.propTypes=p,b.defaultProps={tag:"div"},a.a=b},489:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p=l.a.oneOfType([l.a.number,l.a.string]),b=l.a.oneOfType([l.a.bool,l.a.string,l.a.number,l.a.shape({size:p,order:p,offset:p})]),j={children:l.a.node,hidden:l.a.bool,check:l.a.bool,size:l.a.string,for:l.a.string,tag:u.tagPropType,className:l.a.string,cssModule:l.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:l.a.array},f={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},m=function(e){var a=e.className,t=e.cssModule,o=e.hidden,n=e.widths,l=e.tag,i=e.check,p=e.size,b=e.for,j=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];n.forEach((function(a,s){var r=e[a];if(delete j[a],r||""===r){var o,c=!s;if(Object(u.isObject)(r)){var n,l=c?"-":"-"+a+"-";o=g(c,a,r.size),f.push(Object(u.mapToCssModules)(d()(((n={})[o]=r.size||""===r.size,n["order"+l+r.order]=r.order||0===r.order,n["offset"+l+r.offset]=r.offset||0===r.offset,n))),t)}else o=g(c,a,r),f.push(o)}}));var m=Object(u.mapToCssModules)(d()(a,!!o&&"sr-only",!!i&&"form-check-label",!!p&&"col-form-label-"+p,f,!!f.length&&"col-form-label"),t);return c.a.createElement(l,Object(s.a)({htmlFor:b},j,{className:m}))};m.propTypes=j,m.defaultProps=f,a.a=m},496:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(59),c=t(122),n=t(0),l=t.n(n),i=t(5),d=t.n(i),u=t(58),p=t.n(u),b=t(83),j={children:d.a.node,inline:d.a.bool,tag:b.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(o.a)(t)),t.submit=t.submit.bind(Object(o.a)(t)),t}Object(c.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,o=e.inline,c=e.tag,n=e.innerRef,i=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(b.mapToCssModules)(p()(a,!!o&&"form-inline"),t);return l.a.createElement(c,Object(s.a)({},i,{ref:n,className:d}))},a}(n.Component);f.propTypes=j,f.defaultProps={tag:"form"},a.a=f},497:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var s=t(60);function r(e,a){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Object(s.a)(e))||a&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,n=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return n=e.done,e},e:function(e){l=!0,c=e},f:function(){try{n||null==t.return||t.return()}finally{if(l)throw c}}}}},502:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p={tag:u.tagPropType,type:l.a.string,size:l.a.string,color:l.a.string,className:l.a.string,cssModule:l.a.object,children:l.a.string},b=function(e){var a=e.className,t=e.cssModule,o=e.type,n=e.size,l=e.color,i=e.children,p=e.tag,b=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),j=Object(u.mapToCssModules)(d()(a,!!n&&"spinner-"+o+"-"+n,"spinner-"+o,!!l&&"text-"+l),t);return c.a.createElement(p,Object(s.a)({role:"status"},b,{className:j}),i&&c.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",t)},i))};b.propTypes=p,b.defaultProps={tag:"div",type:"border",children:"Loading..."},a.a=b},555:function(e,a,t){"use strict";var s=t(14),r=t(15),o=t(0),c=t.n(o),n=t(5),l=t.n(n),i=t(58),d=t.n(i),u=t(83),p={className:l.a.string,cssModule:l.a.object,size:l.a.string,bordered:l.a.bool,borderless:l.a.bool,striped:l.a.bool,dark:l.a.bool,hover:l.a.bool,responsive:l.a.oneOfType([l.a.bool,l.a.string]),tag:u.tagPropType,responsiveTag:u.tagPropType,innerRef:l.a.oneOfType([l.a.func,l.a.string,l.a.object])},b=function(e){var a=e.className,t=e.cssModule,o=e.size,n=e.bordered,l=e.borderless,i=e.striped,p=e.dark,b=e.hover,j=e.responsive,f=e.tag,g=e.responsiveTag,m=e.innerRef,h=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),O=Object(u.mapToCssModules)(d()(a,"table",!!o&&"table-"+o,!!n&&"table-bordered",!!l&&"table-borderless",!!i&&"table-striped",!!p&&"table-dark",!!b&&"table-hover"),t),v=c.a.createElement(f,Object(s.a)({},h,{ref:m,className:O}));if(j){var y=Object(u.mapToCssModules)(!0===j?"table-responsive":"table-responsive-"+j,t);return c.a.createElement(g,{className:y},v)}return v};b.propTypes=p,b.defaultProps={tag:"table",responsiveTag:"div"},a.a=b}}]);
//# sourceMappingURL=188.e17cd56a.chunk.js.map